import{w as hs}from"./with-props-BQ_hK6-e.js";import{B as ga,R as xa,j as n,g as ba,r as d,C as ps,f as jt,D as Et}from"./chunk-LSOULM7L-DLna4NcF.js";import{u as an}from"./AuthContext-BgpTDzSM.js";import{u as R,a as ms}from"./useWinnerRecords-6gbEoZoV.js";import{a as lt,g as gs}from"./getPaginatedParticipants-9gK027T_.js";import{c as ct,a as xs,d as bs,i as Re,p as ya,h as xt,b as bt,g as ys,e as vs}from"./useIndexedDB-DB1MSR73.js";const ws="May 21, 2025 at 1:10 PM UTC+8";/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function js(e,t,a){return(t=Ns(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Dn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,s)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Dn(Object(a),!0).forEach(function(s){js(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Dn(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function Ss(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ns(e){var t=Ss(e,"string");return typeof t=="symbol"?t:t+""}const In=()=>{};let sn={},va={},wa=null,ja={mark:In,measure:In};try{typeof window<"u"&&(sn=window),typeof document<"u"&&(va=document),typeof MutationObserver<"u"&&(wa=MutationObserver),typeof performance<"u"&&(ja=performance)}catch{}const{userAgent:On=""}=sn.navigator||{},We=sn,ce=va,Fn=wa,dt=ja;We.document;const Fe=!!ce.documentElement&&!!ce.head&&typeof ce.addEventListener=="function"&&typeof ce.createElement=="function",Sa=~On.indexOf("MSIE")||~On.indexOf("Trident/");var ks=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Ps=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,Na={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},_s={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},ka=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Ne="classic",St="duotone",Cs="sharp",Es="sharp-duotone",Pa=[Ne,St,Cs,Es],As={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},Ts={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},Rs=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),Ds={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},Is=["fak","fa-kit","fakd","fa-kit-duotone"],Ln={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},Os=["kit"],Fs={kit:{"fa-kit":"fak"}},Ls=["fak","fakd"],Ms={kit:{fak:"fa-kit"}},Mn={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},ht={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Ws=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],zs=["fak","fa-kit","fakd","fa-kit-duotone"],Bs={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},$s={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},Us={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Mt={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},Vs=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Wt=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...Ws,...Vs],qs=["solid","regular","light","thin","duotone","brands"],_a=[1,2,3,4,5,6,7,8,9,10],Hs=_a.concat([11,12,13,14,15,16,17,18,19,20]),Ys=[...Object.keys(Us),...qs,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ht.GROUP,ht.SWAP_OPACITY,ht.PRIMARY,ht.SECONDARY].concat(_a.map(e=>"".concat(e,"x"))).concat(Hs.map(e=>"w-".concat(e))),Gs={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const Ie="___FONT_AWESOME___",zt=16,Ca="fa",Ea="svg-inline--fa",Ve="data-fa-i2svg",Bt="data-fa-pseudo-element",Ks="data-fa-pseudo-element-pending",rn="data-prefix",on="data-icon",Wn="fontawesome-i2svg",Xs="async",Qs=["HTML","HEAD","STYLE","SCRIPT"],Aa=(()=>{try{return!0}catch{return!1}})();function ut(e){return new Proxy(e,{get(t,a){return a in t?t[a]:t[Ne]}})}const Ta=b({},Na);Ta[Ne]=b(b(b(b({},{"fa-duotone":"duotone"}),Na[Ne]),Ln.kit),Ln["kit-duotone"]);const Js=ut(Ta),$t=b({},Ds);$t[Ne]=b(b(b(b({},{duotone:"fad"}),$t[Ne]),Mn.kit),Mn["kit-duotone"]);const zn=ut($t),Ut=b({},Mt);Ut[Ne]=b(b({},Ut[Ne]),Ms.kit);const ln=ut(Ut),Vt=b({},$s);Vt[Ne]=b(b({},Vt[Ne]),Fs.kit);ut(Vt);const Zs=ks,Ra="fa-layers-text",er=Ps,tr=b({},As);ut(tr);const nr=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],At=_s,ar=[...Os,...Ys],at=We.FontAwesomeConfig||{};function sr(e){var t=ce.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function rr(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}ce&&typeof ce.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[a,s]=t;const r=rr(sr(a));r!=null&&(at[s]=r)});const Da={styleDefault:"solid",familyDefault:Ne,cssPrefix:Ca,replacementClass:Ea,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};at.familyPrefix&&(at.cssPrefix=at.familyPrefix);const Qe=b(b({},Da),at);Qe.autoReplaceSvg||(Qe.observeMutations=!1);const O={};Object.keys(Da).forEach(e=>{Object.defineProperty(O,e,{enumerable:!0,set:function(t){Qe[e]=t,st.forEach(a=>a(O))},get:function(){return Qe[e]}})});Object.defineProperty(O,"familyPrefix",{enumerable:!0,set:function(e){Qe.cssPrefix=e,st.forEach(t=>t(O))},get:function(){return Qe.cssPrefix}});We.FontAwesomeConfig=O;const st=[];function ir(e){return st.push(e),()=>{st.splice(st.indexOf(e),1)}}const Me=zt,Ee={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function or(e){if(!e||!Fe)return;const t=ce.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const a=ce.head.childNodes;let s=null;for(let r=a.length-1;r>-1;r--){const i=a[r],o=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(s=i)}return ce.head.insertBefore(t,s),e}const lr="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function rt(){let e=12,t="";for(;e-- >0;)t+=lr[Math.random()*62|0];return t}function Je(e){const t=[];for(let a=(e||[]).length>>>0;a--;)t[a]=e[a];return t}function cn(e){return e.classList?Je(e.classList):(e.getAttribute("class")||"").split(" ").filter(t=>t)}function Ia(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function cr(e){return Object.keys(e||{}).reduce((t,a)=>t+"".concat(a,'="').concat(Ia(e[a]),'" '),"").trim()}function Nt(e){return Object.keys(e||{}).reduce((t,a)=>t+"".concat(a,": ").concat(e[a].trim(),";"),"")}function un(e){return e.size!==Ee.size||e.x!==Ee.x||e.y!==Ee.y||e.rotate!==Ee.rotate||e.flipX||e.flipY}function ur(e){let{transform:t,containerWidth:a,iconWidth:s}=e;const r={transform:"translate(".concat(a/2," 256)")},i="translate(".concat(t.x*32,", ").concat(t.y*32,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),l="rotate(".concat(t.rotate," 0 0)"),p={transform:"".concat(i," ").concat(o," ").concat(l)},c={transform:"translate(".concat(s/2*-1," -256)")};return{outer:r,inner:p,path:c}}function fr(e){let{transform:t,width:a=zt,height:s=zt,startCentered:r=!1}=e,i="";return r&&Sa?i+="translate(".concat(t.x/Me-a/2,"em, ").concat(t.y/Me-s/2,"em) "):r?i+="translate(calc(-50% + ".concat(t.x/Me,"em), calc(-50% + ").concat(t.y/Me,"em)) "):i+="translate(".concat(t.x/Me,"em, ").concat(t.y/Me,"em) "),i+="scale(".concat(t.size/Me*(t.flipX?-1:1),", ").concat(t.size/Me*(t.flipY?-1:1),") "),i+="rotate(".concat(t.rotate,"deg) "),i}var dr=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function Oa(){const e=Ca,t=Ea,a=O.cssPrefix,s=O.replacementClass;let r=dr;if(a!==e||s!==t){const i=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),l=new RegExp("\\.".concat(t),"g");r=r.replace(i,".".concat(a,"-")).replace(o,"--".concat(a,"-")).replace(l,".".concat(s))}return r}let Bn=!1;function Tt(){O.autoAddCss&&!Bn&&(or(Oa()),Bn=!0)}var hr={mixout(){return{dom:{css:Oa,insertCss:Tt}}},hooks(){return{beforeDOMElementCreation(){Tt()},beforeI2svg(){Tt()}}}};const Oe=We||{};Oe[Ie]||(Oe[Ie]={});Oe[Ie].styles||(Oe[Ie].styles={});Oe[Ie].hooks||(Oe[Ie].hooks={});Oe[Ie].shims||(Oe[Ie].shims=[]);var Ae=Oe[Ie];const Fa=[],La=function(){ce.removeEventListener("DOMContentLoaded",La),yt=1,Fa.map(e=>e())};let yt=!1;Fe&&(yt=(ce.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ce.readyState),yt||ce.addEventListener("DOMContentLoaded",La));function pr(e){Fe&&(yt?setTimeout(e,0):Fa.push(e))}function ft(e){const{tag:t,attributes:a={},children:s=[]}=e;return typeof e=="string"?Ia(e):"<".concat(t," ").concat(cr(a),">").concat(s.map(ft).join(""),"</").concat(t,">")}function $n(e,t,a){if(e&&e[t]&&e[t][a])return{prefix:t,iconName:a,icon:e[t][a]}}var Rt=function(t,a,s,r){var i=Object.keys(t),o=i.length,l=a,p,c,h;for(s===void 0?(p=1,h=t[i[0]]):(p=0,h=s);p<o;p++)c=i[p],h=l(h,t[c],c,t);return h};function mr(e){const t=[];let a=0;const s=e.length;for(;a<s;){const r=e.charCodeAt(a++);if(r>=55296&&r<=56319&&a<s){const i=e.charCodeAt(a++);(i&64512)==56320?t.push(((r&1023)<<10)+(i&1023)+65536):(t.push(r),a--)}else t.push(r)}return t}function qt(e){const t=mr(e);return t.length===1?t[0].toString(16):null}function gr(e,t){const a=e.length;let s=e.charCodeAt(t),r;return s>=55296&&s<=56319&&a>t+1&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?(s-55296)*1024+r-56320+65536:s}function Un(e){return Object.keys(e).reduce((t,a)=>{const s=e[a];return!!s.icon?t[s.iconName]=s.icon:t[a]=s,t},{})}function Ht(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:s=!1}=a,r=Un(t);typeof Ae.hooks.addPack=="function"&&!s?Ae.hooks.addPack(e,Un(t)):Ae.styles[e]=b(b({},Ae.styles[e]||{}),r),e==="fas"&&Ht("fa",t)}const{styles:it,shims:xr}=Ae,Ma=Object.keys(ln),br=Ma.reduce((e,t)=>(e[t]=Object.keys(ln[t]),e),{});let fn=null,Wa={},za={},Ba={},$a={},Ua={};function yr(e){return~ar.indexOf(e)}function vr(e,t){const a=t.split("-"),s=a[0],r=a.slice(1).join("-");return s===e&&r!==""&&!yr(r)?r:null}const Va=()=>{const e=s=>Rt(it,(r,i,o)=>(r[o]=Rt(i,s,{}),r),{});Wa=e((s,r,i)=>(r[3]&&(s[r[3]]=i),r[2]&&r[2].filter(l=>typeof l=="number").forEach(l=>{s[l.toString(16)]=i}),s)),za=e((s,r,i)=>(s[i]=i,r[2]&&r[2].filter(l=>typeof l=="string").forEach(l=>{s[l]=i}),s)),Ua=e((s,r,i)=>{const o=r[2];return s[i]=i,o.forEach(l=>{s[l]=i}),s});const t="far"in it||O.autoFetchSvg,a=Rt(xr,(s,r)=>{const i=r[0];let o=r[1];const l=r[2];return o==="far"&&!t&&(o="fas"),typeof i=="string"&&(s.names[i]={prefix:o,iconName:l}),typeof i=="number"&&(s.unicodes[i.toString(16)]={prefix:o,iconName:l}),s},{names:{},unicodes:{}});Ba=a.names,$a=a.unicodes,fn=kt(O.styleDefault,{family:O.familyDefault})};ir(e=>{fn=kt(e.styleDefault,{family:O.familyDefault})});Va();function dn(e,t){return(Wa[e]||{})[t]}function wr(e,t){return(za[e]||{})[t]}function Ue(e,t){return(Ua[e]||{})[t]}function qa(e){return Ba[e]||{prefix:null,iconName:null}}function jr(e){const t=$a[e],a=dn("fas",e);return t||(a?{prefix:"fas",iconName:a}:null)||{prefix:null,iconName:null}}function ze(){return fn}const Ha=()=>({prefix:null,iconName:null,rest:[]});function Sr(e){let t=Ne;const a=Ma.reduce((s,r)=>(s[r]="".concat(O.cssPrefix,"-").concat(r),s),{});return Pa.forEach(s=>{(e.includes(a[s])||e.some(r=>br[s].includes(r)))&&(t=s)}),t}function kt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:a=Ne}=t,s=Js[a][e];if(a===St&&!e)return"fad";const r=zn[a][e]||zn[a][s],i=e in Ae.styles?e:null;return r||i||null}function Nr(e){let t=[],a=null;return e.forEach(s=>{const r=vr(O.cssPrefix,s);r?a=r:s&&t.push(s)}),{iconName:a,rest:t}}function Vn(e){return e.sort().filter((t,a,s)=>s.indexOf(t)===a)}function Pt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:a=!1}=t;let s=null;const r=Wt.concat(zs),i=Vn(e.filter(g=>r.includes(g))),o=Vn(e.filter(g=>!Wt.includes(g))),l=i.filter(g=>(s=g,!ka.includes(g))),[p=null]=l,c=Sr(i),h=b(b({},Nr(o)),{},{prefix:kt(p,{family:c})});return b(b(b({},h),Cr({values:e,family:c,styles:it,config:O,canonical:h,givenPrefix:s})),kr(a,s,h))}function kr(e,t,a){let{prefix:s,iconName:r}=a;if(e||!s||!r)return{prefix:s,iconName:r};const i=t==="fa"?qa(r):{},o=Ue(s,r);return r=i.iconName||o||r,s=i.prefix||s,s==="far"&&!it.far&&it.fas&&!O.autoFetchSvg&&(s="fas"),{prefix:s,iconName:r}}const Pr=Pa.filter(e=>e!==Ne||e!==St),_r=Object.keys(Mt).filter(e=>e!==Ne).map(e=>Object.keys(Mt[e])).flat();function Cr(e){const{values:t,family:a,canonical:s,givenPrefix:r="",styles:i={},config:o={}}=e,l=a===St,p=t.includes("fa-duotone")||t.includes("fad"),c=o.familyDefault==="duotone",h=s.prefix==="fad"||s.prefix==="fa-duotone";if(!l&&(p||c||h)&&(s.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(s.prefix="fab"),!s.prefix&&Pr.includes(a)&&(Object.keys(i).find(w=>_r.includes(w))||o.autoFetchSvg)){const w=Rs.get(a).defaultShortPrefixId;s.prefix=w,s.iconName=Ue(s.prefix,s.iconName)||s.iconName}return(s.prefix==="fa"||r==="fa")&&(s.prefix=ze()||"fas"),s}class Er{constructor(){this.definitions={}}add(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];const r=a.reduce(this._pullDefinitions,{});Object.keys(r).forEach(i=>{this.definitions[i]=b(b({},this.definitions[i]||{}),r[i]),Ht(i,r[i]);const o=ln[Ne][i];o&&Ht(o,r[i]),Va()})}reset(){this.definitions={}}_pullDefinitions(t,a){const s=a.prefix&&a.iconName&&a.icon?{0:a}:a;return Object.keys(s).map(r=>{const{prefix:i,iconName:o,icon:l}=s[r],p=l[2];t[i]||(t[i]={}),p.length>0&&p.forEach(c=>{typeof c=="string"&&(t[i][c]=l)}),t[i][o]=l}),t}}let qn=[],Ye={};const Ke={},Ar=Object.keys(Ke);function Tr(e,t){let{mixoutsTo:a}=t;return qn=e,Ye={},Object.keys(Ke).forEach(s=>{Ar.indexOf(s)===-1&&delete Ke[s]}),qn.forEach(s=>{const r=s.mixout?s.mixout():{};if(Object.keys(r).forEach(i=>{typeof r[i]=="function"&&(a[i]=r[i]),typeof r[i]=="object"&&Object.keys(r[i]).forEach(o=>{a[i]||(a[i]={}),a[i][o]=r[i][o]})}),s.hooks){const i=s.hooks();Object.keys(i).forEach(o=>{Ye[o]||(Ye[o]=[]),Ye[o].push(i[o])})}s.provides&&s.provides(Ke)}),a}function Yt(e,t){for(var a=arguments.length,s=new Array(a>2?a-2:0),r=2;r<a;r++)s[r-2]=arguments[r];return(Ye[e]||[]).forEach(o=>{t=o.apply(null,[t,...s])}),t}function qe(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];(Ye[e]||[]).forEach(i=>{i.apply(null,a)})}function Be(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Ke[e]?Ke[e].apply(null,t):void 0}function Gt(e){e.prefix==="fa"&&(e.prefix="fas");let{iconName:t}=e;const a=e.prefix||ze();if(t)return t=Ue(a,t)||t,$n(Ya.definitions,a,t)||$n(Ae.styles,a,t)}const Ya=new Er,Rr=()=>{O.autoReplaceSvg=!1,O.observeMutations=!1,qe("noAuto")},Dr={i2svg:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Fe?(qe("beforeI2svg",e),Be("pseudoElements2svg",e),Be("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;O.autoReplaceSvg===!1&&(O.autoReplaceSvg=!0),O.observeMutations=!0,pr(()=>{Or({autoReplaceSvgRoot:t}),qe("watch",e)})}},Ir={icon:e=>{if(e===null)return null;if(typeof e=="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Ue(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){const t=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],a=kt(e[0]);return{prefix:a,iconName:Ue(a,t)||t}}if(typeof e=="string"&&(e.indexOf("".concat(O.cssPrefix,"-"))>-1||e.match(Zs))){const t=Pt(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||ze(),iconName:Ue(t.prefix,t.iconName)||t.iconName}}if(typeof e=="string"){const t=ze();return{prefix:t,iconName:Ue(t,e)||e}}}},Pe={noAuto:Rr,config:O,dom:Dr,parse:Ir,library:Ya,findIconDefinition:Gt,toHtml:ft},Or=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=ce}=e;(Object.keys(Ae.styles).length>0||O.autoFetchSvg)&&Fe&&O.autoReplaceSvg&&Pe.dom.i2svg({node:t})};function _t(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(a=>ft(a))}}),Object.defineProperty(e,"node",{get:function(){if(!Fe)return;const a=ce.createElement("div");return a.innerHTML=e.html,a.children}}),e}function Fr(e){let{children:t,main:a,mask:s,attributes:r,styles:i,transform:o}=e;if(un(o)&&a.found&&!s.found){const{width:l,height:p}=a,c={x:l/p/2,y:.5};r.style=Nt(b(b({},i),{},{"transform-origin":"".concat(c.x+o.x/16,"em ").concat(c.y+o.y/16,"em")}))}return[{tag:"svg",attributes:r,children:t}]}function Lr(e){let{prefix:t,iconName:a,children:s,attributes:r,symbol:i}=e;const o=i===!0?"".concat(t,"-").concat(O.cssPrefix,"-").concat(a):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:b(b({},r),{},{id:o}),children:s}]}]}function hn(e){const{icons:{main:t,mask:a},prefix:s,iconName:r,transform:i,symbol:o,title:l,maskId:p,titleId:c,extra:h,watchable:g=!1}=e,{width:w,height:y}=a.found?a:t,N=Ls.includes(s),F=[O.replacementClass,r?"".concat(O.cssPrefix,"-").concat(r):""].filter(v=>h.classes.indexOf(v)===-1).filter(v=>v!==""||!!v).concat(h.classes).join(" ");let x={children:[],attributes:b(b({},h.attributes),{},{"data-prefix":s,"data-icon":r,class:F,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(w," ").concat(y)})};const C=N&&!~h.classes.indexOf("fa-fw")?{width:"".concat(w/y*16*.0625,"em")}:{};g&&(x.attributes[Ve]=""),l&&(x.children.push({tag:"title",attributes:{id:x.attributes["aria-labelledby"]||"title-".concat(c||rt())},children:[l]}),delete x.attributes.title);const _=b(b({},x),{},{prefix:s,iconName:r,main:t,mask:a,maskId:p,transform:i,symbol:o,styles:b(b({},C),h.styles)}),{children:I,attributes:A}=a.found&&t.found?Be("generateAbstractMask",_)||{children:[],attributes:{}}:Be("generateAbstractIcon",_)||{children:[],attributes:{}};return _.children=I,_.attributes=A,o?Lr(_):Fr(_)}function Hn(e){const{content:t,width:a,height:s,transform:r,title:i,extra:o,watchable:l=!1}=e,p=b(b(b({},o.attributes),i?{title:i}:{}),{},{class:o.classes.join(" ")});l&&(p[Ve]="");const c=b({},o.styles);un(r)&&(c.transform=fr({transform:r,startCentered:!0,width:a,height:s}),c["-webkit-transform"]=c.transform);const h=Nt(c);h.length>0&&(p.style=h);const g=[];return g.push({tag:"span",attributes:p,children:[t]}),i&&g.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),g}function Mr(e){const{content:t,title:a,extra:s}=e,r=b(b(b({},s.attributes),a?{title:a}:{}),{},{class:s.classes.join(" ")}),i=Nt(s.styles);i.length>0&&(r.style=i);const o=[];return o.push({tag:"span",attributes:r,children:[t]}),a&&o.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),o}const{styles:Dt}=Ae;function Kt(e){const t=e[0],a=e[1],[s]=e.slice(4);let r=null;return Array.isArray(s)?r={tag:"g",attributes:{class:"".concat(O.cssPrefix,"-").concat(At.GROUP)},children:[{tag:"path",attributes:{class:"".concat(O.cssPrefix,"-").concat(At.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(O.cssPrefix,"-").concat(At.PRIMARY),fill:"currentColor",d:s[1]}}]}:r={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:t,height:a,icon:r}}const Wr={found:!1,width:512,height:512};function zr(e,t){!Aa&&!O.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function Xt(e,t){let a=t;return t==="fa"&&O.styleDefault!==null&&(t=ze()),new Promise((s,r)=>{if(a==="fa"){const i=qa(e)||{};e=i.iconName||e,t=i.prefix||t}if(e&&t&&Dt[t]&&Dt[t][e]){const i=Dt[t][e];return s(Kt(i))}zr(e,t),s(b(b({},Wr),{},{icon:O.showMissingIcons&&e?Be("missingIconAbstract")||{}:{}}))})}const Yn=()=>{},Qt=O.measurePerformance&&dt&&dt.mark&&dt.measure?dt:{mark:Yn,measure:Yn},nt='FA "6.7.2"',Br=e=>(Qt.mark("".concat(nt," ").concat(e," begins")),()=>Ga(e)),Ga=e=>{Qt.mark("".concat(nt," ").concat(e," ends")),Qt.measure("".concat(nt," ").concat(e),"".concat(nt," ").concat(e," begins"),"".concat(nt," ").concat(e," ends"))};var pn={begin:Br,end:Ga};const mt=()=>{};function Gn(e){return typeof(e.getAttribute?e.getAttribute(Ve):null)=="string"}function $r(e){const t=e.getAttribute?e.getAttribute(rn):null,a=e.getAttribute?e.getAttribute(on):null;return t&&a}function Ur(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(O.replacementClass)}function Vr(){return O.autoReplaceSvg===!0?gt.replace:gt[O.autoReplaceSvg]||gt.replace}function qr(e){return ce.createElementNS("http://www.w3.org/2000/svg",e)}function Hr(e){return ce.createElement(e)}function Ka(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:a=e.tag==="svg"?qr:Hr}=t;if(typeof e=="string")return ce.createTextNode(e);const s=a(e.tag);return Object.keys(e.attributes||[]).forEach(function(i){s.setAttribute(i,e.attributes[i])}),(e.children||[]).forEach(function(i){s.appendChild(Ka(i,{ceFn:a}))}),s}function Yr(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const gt={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach(a=>{t.parentNode.insertBefore(Ka(a),t)}),t.getAttribute(Ve)===null&&O.keepOriginalSource){let a=ce.createComment(Yr(t));t.parentNode.replaceChild(a,t)}else t.remove()},nest:function(e){const t=e[0],a=e[1];if(~cn(t).indexOf(O.replacementClass))return gt.replace(e);const s=new RegExp("".concat(O.cssPrefix,"-.*"));if(delete a[0].attributes.id,a[0].attributes.class){const i=a[0].attributes.class.split(" ").reduce((o,l)=>(l===O.replacementClass||l.match(s)?o.toSvg.push(l):o.toNode.push(l),o),{toNode:[],toSvg:[]});a[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}const r=a.map(i=>ft(i)).join(`
`);t.setAttribute(Ve,""),t.innerHTML=r}};function Kn(e){e()}function Xa(e,t){const a=typeof t=="function"?t:mt;if(e.length===0)a();else{let s=Kn;O.mutateApproach===Xs&&(s=We.requestAnimationFrame||Kn),s(()=>{const r=Vr(),i=pn.begin("mutate");e.map(r),i(),a()})}}let mn=!1;function Qa(){mn=!0}function Jt(){mn=!1}let vt=null;function Xn(e){if(!Fn||!O.observeMutations)return;const{treeCallback:t=mt,nodeCallback:a=mt,pseudoElementsCallback:s=mt,observeMutationsRoot:r=ce}=e;vt=new Fn(i=>{if(mn)return;const o=ze();Je(i).forEach(l=>{if(l.type==="childList"&&l.addedNodes.length>0&&!Gn(l.addedNodes[0])&&(O.searchPseudoElements&&s(l.target),t(l.target)),l.type==="attributes"&&l.target.parentNode&&O.searchPseudoElements&&s(l.target.parentNode),l.type==="attributes"&&Gn(l.target)&&~nr.indexOf(l.attributeName))if(l.attributeName==="class"&&$r(l.target)){const{prefix:p,iconName:c}=Pt(cn(l.target));l.target.setAttribute(rn,p||o),c&&l.target.setAttribute(on,c)}else Ur(l.target)&&a(l.target)})}),Fe&&vt.observe(r,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function Gr(){vt&&vt.disconnect()}function Kr(e){const t=e.getAttribute("style");let a=[];return t&&(a=t.split(";").reduce((s,r)=>{const i=r.split(":"),o=i[0],l=i.slice(1);return o&&l.length>0&&(s[o]=l.join(":").trim()),s},{})),a}function Xr(e){const t=e.getAttribute("data-prefix"),a=e.getAttribute("data-icon"),s=e.innerText!==void 0?e.innerText.trim():"";let r=Pt(cn(e));return r.prefix||(r.prefix=ze()),t&&a&&(r.prefix=t,r.iconName=a),r.iconName&&r.prefix||(r.prefix&&s.length>0&&(r.iconName=wr(r.prefix,e.innerText)||dn(r.prefix,qt(e.innerText))),!r.iconName&&O.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=e.firstChild.data)),r}function Qr(e){const t=Je(e.attributes).reduce((r,i)=>(r.name!=="class"&&r.name!=="style"&&(r[i.name]=i.value),r),{}),a=e.getAttribute("title"),s=e.getAttribute("data-fa-title-id");return O.autoA11y&&(a?t["aria-labelledby"]="".concat(O.replacementClass,"-title-").concat(s||rt()):(t["aria-hidden"]="true",t.focusable="false")),t}function Jr(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ee,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Qn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:a,prefix:s,rest:r}=Xr(e),i=Qr(e),o=Yt("parseNodeAttributes",{},e);let l=t.styleParser?Kr(e):[];return b({iconName:a,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:s,transform:Ee,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:r,styles:l,attributes:i}},o)}const{styles:Zr}=Ae;function Ja(e){const t=O.autoReplaceSvg==="nest"?Qn(e,{styleParser:!1}):Qn(e);return~t.extra.classes.indexOf(Ra)?Be("generateLayersText",e,t):Be("generateSvgReplacementMutation",e,t)}function ei(){return[...Is,...Wt]}function Jn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Fe)return Promise.resolve();const a=ce.documentElement.classList,s=h=>a.add("".concat(Wn,"-").concat(h)),r=h=>a.remove("".concat(Wn,"-").concat(h)),i=O.autoFetchSvg?ei():ka.concat(Object.keys(Zr));i.includes("fa")||i.push("fa");const o=[".".concat(Ra,":not([").concat(Ve,"])")].concat(i.map(h=>".".concat(h,":not([").concat(Ve,"])"))).join(", ");if(o.length===0)return Promise.resolve();let l=[];try{l=Je(e.querySelectorAll(o))}catch{}if(l.length>0)s("pending"),r("complete");else return Promise.resolve();const p=pn.begin("onTree"),c=l.reduce((h,g)=>{try{const w=Ja(g);w&&h.push(w)}catch(w){Aa||w.name==="MissingIcon"&&console.error(w)}return h},[]);return new Promise((h,g)=>{Promise.all(c).then(w=>{Xa(w,()=>{s("active"),s("complete"),r("pending"),typeof t=="function"&&t(),p(),h()})}).catch(w=>{p(),g(w)})})}function ti(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Ja(e).then(a=>{a&&Xa([a],t)})}function ni(e){return function(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=(t||{}).icon?t:Gt(t||{});let{mask:r}=a;return r&&(r=(r||{}).icon?r:Gt(r||{})),e(s,b(b({},a),{},{mask:r}))}}const ai=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:a=Ee,symbol:s=!1,mask:r=null,maskId:i=null,title:o=null,titleId:l=null,classes:p=[],attributes:c={},styles:h={}}=t;if(!e)return;const{prefix:g,iconName:w,icon:y}=e;return _t(b({type:"icon"},e),()=>(qe("beforeDOMElementCreation",{iconDefinition:e,params:t}),O.autoA11y&&(o?c["aria-labelledby"]="".concat(O.replacementClass,"-title-").concat(l||rt()):(c["aria-hidden"]="true",c.focusable="false")),hn({icons:{main:Kt(y),mask:r?Kt(r.icon):{found:!1,width:null,height:null,icon:{}}},prefix:g,iconName:w,transform:b(b({},Ee),a),symbol:s,title:o,maskId:i,titleId:l,extra:{attributes:c,styles:h,classes:p}})))};var si={mixout(){return{icon:ni(ai)}},hooks(){return{mutationObserverCallbacks(e){return e.treeCallback=Jn,e.nodeCallback=ti,e}}},provides(e){e.i2svg=function(t){const{node:a=ce,callback:s=()=>{}}=t;return Jn(a,s)},e.generateSvgReplacementMutation=function(t,a){const{iconName:s,title:r,titleId:i,prefix:o,transform:l,symbol:p,mask:c,maskId:h,extra:g}=a;return new Promise((w,y)=>{Promise.all([Xt(s,o),c.iconName?Xt(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(N=>{let[F,x]=N;w([t,hn({icons:{main:F,mask:x},prefix:o,iconName:s,transform:l,symbol:p,maskId:h,title:r,titleId:i,extra:g,watchable:!0})])}).catch(y)})},e.generateAbstractIcon=function(t){let{children:a,attributes:s,main:r,transform:i,styles:o}=t;const l=Nt(o);l.length>0&&(s.style=l);let p;return un(i)&&(p=Be("generateAbstractTransformGrouping",{main:r,transform:i,containerWidth:r.width,iconWidth:r.width})),a.push(p||r.icon),{children:a,attributes:s}}}},ri={mixout(){return{layer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:a=[]}=t;return _t({type:"layer"},()=>{qe("beforeDOMElementCreation",{assembler:e,params:t});let s=[];return e(r=>{Array.isArray(r)?r.map(i=>{s=s.concat(i.abstract)}):s=s.concat(r.abstract)}),[{tag:"span",attributes:{class:["".concat(O.cssPrefix,"-layers"),...a].join(" ")},children:s}]})}}}},ii={mixout(){return{counter(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:a=null,classes:s=[],attributes:r={},styles:i={}}=t;return _t({type:"counter",content:e},()=>(qe("beforeDOMElementCreation",{content:e,params:t}),Mr({content:e.toString(),title:a,extra:{attributes:r,styles:i,classes:["".concat(O.cssPrefix,"-layers-counter"),...s]}})))}}}},oi={mixout(){return{text(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:a=Ee,title:s=null,classes:r=[],attributes:i={},styles:o={}}=t;return _t({type:"text",content:e},()=>(qe("beforeDOMElementCreation",{content:e,params:t}),Hn({content:e,transform:b(b({},Ee),a),title:s,extra:{attributes:i,styles:o,classes:["".concat(O.cssPrefix,"-layers-text"),...r]}})))}}},provides(e){e.generateLayersText=function(t,a){const{title:s,transform:r,extra:i}=a;let o=null,l=null;if(Sa){const p=parseInt(getComputedStyle(t).fontSize,10),c=t.getBoundingClientRect();o=c.width/p,l=c.height/p}return O.autoA11y&&!s&&(i.attributes["aria-hidden"]="true"),Promise.resolve([t,Hn({content:t.innerHTML,width:o,height:l,transform:r,title:s,extra:i,watchable:!0})])}}};const li=new RegExp('"',"ug"),Zn=[1105920,1112319],ea=b(b(b(b({},{FontAwesome:{normal:"fas",400:"fas"}}),Ts),Gs),Bs),Zt=Object.keys(ea).reduce((e,t)=>(e[t.toLowerCase()]=ea[t],e),{}),ci=Object.keys(Zt).reduce((e,t)=>{const a=Zt[t];return e[t]=a[900]||[...Object.entries(a)][0][1],e},{});function ui(e){const t=e.replace(li,""),a=gr(t,0),s=a>=Zn[0]&&a<=Zn[1],r=t.length===2?t[0]===t[1]:!1;return{value:qt(r?t[0]:t),isSecondary:s||r}}function fi(e,t){const a=e.replace(/^['"]|['"]$/g,"").toLowerCase(),s=parseInt(t),r=isNaN(s)?"normal":s;return(Zt[a]||{})[r]||ci[a]}function ta(e,t){const a="".concat(Ks).concat(t.replace(":","-"));return new Promise((s,r)=>{if(e.getAttribute(a)!==null)return s();const o=Je(e.children).filter(w=>w.getAttribute(Bt)===t)[0],l=We.getComputedStyle(e,t),p=l.getPropertyValue("font-family"),c=p.match(er),h=l.getPropertyValue("font-weight"),g=l.getPropertyValue("content");if(o&&!c)return e.removeChild(o),s();if(c&&g!=="none"&&g!==""){const w=l.getPropertyValue("content");let y=fi(p,h);const{value:N,isSecondary:F}=ui(w),x=c[0].startsWith("FontAwesome");let C=dn(y,N),_=C;if(x){const I=jr(N);I.iconName&&I.prefix&&(C=I.iconName,y=I.prefix)}if(C&&!F&&(!o||o.getAttribute(rn)!==y||o.getAttribute(on)!==_)){e.setAttribute(a,_),o&&e.removeChild(o);const I=Jr(),{extra:A}=I;A.attributes[Bt]=t,Xt(C,y).then(v=>{const T=hn(b(b({},I),{},{icons:{main:v,mask:Ha()},prefix:y,iconName:_,extra:A,watchable:!0})),P=ce.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(P,e.firstChild):e.appendChild(P),P.outerHTML=T.map(u=>ft(u)).join(`
`),e.removeAttribute(a),s()}).catch(r)}else s()}else s()})}function di(e){return Promise.all([ta(e,"::before"),ta(e,"::after")])}function hi(e){return e.parentNode!==document.head&&!~Qs.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Bt)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function na(e){if(Fe)return new Promise((t,a)=>{const s=Je(e.querySelectorAll("*")).filter(hi).map(di),r=pn.begin("searchPseudoElements");Qa(),Promise.all(s).then(()=>{r(),Jt(),t()}).catch(()=>{r(),Jt(),a()})})}var pi={hooks(){return{mutationObserverCallbacks(e){return e.pseudoElementsCallback=na,e}}},provides(e){e.pseudoElements2svg=function(t){const{node:a=ce}=t;O.searchPseudoElements&&na(a)}}};let aa=!1;var mi={mixout(){return{dom:{unwatch(){Qa(),aa=!0}}}},hooks(){return{bootstrap(){Xn(Yt("mutationObserverCallbacks",{}))},noAuto(){Gr()},watch(e){const{observeMutationsRoot:t}=e;aa?Jt():Xn(Yt("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const sa=e=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce((a,s)=>{const r=s.toLowerCase().split("-"),i=r[0];let o=r.slice(1).join("-");if(i&&o==="h")return a.flipX=!0,a;if(i&&o==="v")return a.flipY=!0,a;if(o=parseFloat(o),isNaN(o))return a;switch(i){case"grow":a.size=a.size+o;break;case"shrink":a.size=a.size-o;break;case"left":a.x=a.x-o;break;case"right":a.x=a.x+o;break;case"up":a.y=a.y-o;break;case"down":a.y=a.y+o;break;case"rotate":a.rotate=a.rotate+o;break}return a},t)};var gi={mixout(){return{parse:{transform:e=>sa(e)}}},hooks(){return{parseNodeAttributes(e,t){const a=t.getAttribute("data-fa-transform");return a&&(e.transform=sa(a)),e}}},provides(e){e.generateAbstractTransformGrouping=function(t){let{main:a,transform:s,containerWidth:r,iconWidth:i}=t;const o={transform:"translate(".concat(r/2," 256)")},l="translate(".concat(s.x*32,", ").concat(s.y*32,") "),p="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),c="rotate(".concat(s.rotate," 0 0)"),h={transform:"".concat(l," ").concat(p," ").concat(c)},g={transform:"translate(".concat(i/2*-1," -256)")},w={outer:o,inner:h,path:g};return{tag:"g",attributes:b({},w.outer),children:[{tag:"g",attributes:b({},w.inner),children:[{tag:a.icon.tag,children:a.icon.children,attributes:b(b({},a.icon.attributes),w.path)}]}]}}}};const It={x:0,y:0,width:"100%",height:"100%"};function ra(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function xi(e){return e.tag==="g"?e.children:[e]}var bi={hooks(){return{parseNodeAttributes(e,t){const a=t.getAttribute("data-fa-mask"),s=a?Pt(a.split(" ").map(r=>r.trim())):Ha();return s.prefix||(s.prefix=ze()),e.mask=s,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides(e){e.generateAbstractMask=function(t){let{children:a,attributes:s,main:r,mask:i,maskId:o,transform:l}=t;const{width:p,icon:c}=r,{width:h,icon:g}=i,w=ur({transform:l,containerWidth:h,iconWidth:p}),y={tag:"rect",attributes:b(b({},It),{},{fill:"white"})},N=c.children?{children:c.children.map(ra)}:{},F={tag:"g",attributes:b({},w.inner),children:[ra(b({tag:c.tag,attributes:b(b({},c.attributes),w.path)},N))]},x={tag:"g",attributes:b({},w.outer),children:[F]},C="mask-".concat(o||rt()),_="clip-".concat(o||rt()),I={tag:"mask",attributes:b(b({},It),{},{id:C,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[y,x]},A={tag:"defs",children:[{tag:"clipPath",attributes:{id:_},children:xi(g)},I]};return a.push(A,{tag:"rect",attributes:b({fill:"currentColor","clip-path":"url(#".concat(_,")"),mask:"url(#".concat(C,")")},It)}),{children:a,attributes:s}}}},yi={provides(e){let t=!1;We.matchMedia&&(t=We.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const a=[],s={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};a.push({tag:"path",attributes:b(b({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const i=b(b({},r),{},{attributeName:"opacity"}),o={tag:"circle",attributes:b(b({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||o.children.push({tag:"animate",attributes:b(b({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:b(b({},i),{},{values:"1;0;1;1;0;1;"})}),a.push(o),a.push({tag:"path",attributes:b(b({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:b(b({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||a.push({tag:"path",attributes:b(b({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:b(b({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:a}}}},vi={hooks(){return{parseNodeAttributes(e,t){const a=t.getAttribute("data-fa-symbol"),s=a===null?!1:a===""?!0:a;return e.symbol=s,e}}}},wi=[hr,si,ri,ii,oi,pi,mi,gi,bi,yi,vi];Tr(wi,{mixoutsTo:Pe});Pe.noAuto;Pe.config;Pe.library;Pe.dom;const en=Pe.parse;Pe.findIconDefinition;Pe.toHtml;const ji=Pe.icon;Pe.layer;Pe.text;Pe.counter;var Za={exports:{}},Si="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ni=Si,ki=Ni;function es(){}function ts(){}ts.resetWarningCache=es;var Pi=function(){function e(s,r,i,o,l,p){if(p!==ki){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ts,resetWarningCache:es};return a.PropTypes=a,a};Za.exports=Pi();var _i=Za.exports;const G=ga(_i);function ia(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,s)}return a}function Ce(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ia(Object(a),!0).forEach(function(s){Ge(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ia(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function wt(e){"@babel/helpers - typeof";return wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wt(e)}function Ge(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ci(e,t){if(e==null)return{};var a={},s=Object.keys(e),r,i;for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}function Ei(e,t){if(e==null)return{};var a=Ci(e,t),s,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)s=i[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function tn(e){return Ai(e)||Ti(e)||Ri(e)||Di()}function Ai(e){if(Array.isArray(e))return nn(e)}function Ti(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ri(e,t){if(e){if(typeof e=="string")return nn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return nn(e,t)}}function nn(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,s=new Array(t);a<t;a++)s[a]=e[a];return s}function Di(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ii(e){var t,a=e.beat,s=e.fade,r=e.beatFade,i=e.bounce,o=e.shake,l=e.flash,p=e.spin,c=e.spinPulse,h=e.spinReverse,g=e.pulse,w=e.fixedWidth,y=e.inverse,N=e.border,F=e.listItem,x=e.flip,C=e.size,_=e.rotation,I=e.pull,A=(t={"fa-beat":a,"fa-fade":s,"fa-beat-fade":r,"fa-bounce":i,"fa-shake":o,"fa-flash":l,"fa-spin":p,"fa-spin-reverse":h,"fa-spin-pulse":c,"fa-pulse":g,"fa-fw":w,"fa-inverse":y,"fa-border":N,"fa-li":F,"fa-flip":x===!0,"fa-flip-horizontal":x==="horizontal"||x==="both","fa-flip-vertical":x==="vertical"||x==="both"},Ge(t,"fa-".concat(C),typeof C<"u"&&C!==null),Ge(t,"fa-rotate-".concat(_),typeof _<"u"&&_!==null&&_!==0),Ge(t,"fa-pull-".concat(I),typeof I<"u"&&I!==null),Ge(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(A).map(function(v){return A[v]?v:null}).filter(function(v){return v})}function Oi(e){return e=e-0,e===e}function ns(e){return Oi(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(t,a){return a?a.toUpperCase():""}),e.substr(0,1).toLowerCase()+e.substr(1))}var Fi=["style"];function Li(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Mi(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,a){var s=a.indexOf(":"),r=ns(a.slice(0,s)),i=a.slice(s+1).trim();return r.startsWith("webkit")?t[Li(r)]=i:t[r]=i,t},{})}function as(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var s=(t.children||[]).map(function(p){return as(e,p)}),r=Object.keys(t.attributes||{}).reduce(function(p,c){var h=t.attributes[c];switch(c){case"class":p.attrs.className=h,delete t.attributes.class;break;case"style":p.attrs.style=Mi(h);break;default:c.indexOf("aria-")===0||c.indexOf("data-")===0?p.attrs[c.toLowerCase()]=h:p.attrs[ns(c)]=h}return p},{attrs:{}}),i=a.style,o=i===void 0?{}:i,l=Ei(a,Fi);return r.attrs.style=Ce(Ce({},r.attrs.style),o),e.apply(void 0,[t.tag,Ce(Ce({},r.attrs),l)].concat(tn(s)))}var ss=!1;try{ss=!0}catch{}function Wi(){if(!ss&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function oa(e){if(e&&wt(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(en.icon)return en.icon(e);if(e===null)return null;if(e&&wt(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}function Ot(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Ge({},e,t):{}}var la={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},ge=xa.forwardRef(function(e,t){var a=Ce(Ce({},la),e),s=a.icon,r=a.mask,i=a.symbol,o=a.className,l=a.title,p=a.titleId,c=a.maskId,h=oa(s),g=Ot("classes",[].concat(tn(Ii(a)),tn((o||"").split(" ")))),w=Ot("transform",typeof a.transform=="string"?en.transform(a.transform):a.transform),y=Ot("mask",oa(r)),N=ji(h,Ce(Ce(Ce(Ce({},g),w),y),{},{symbol:i,title:l,titleId:p,maskId:c}));if(!N)return Wi("Could not find icon",h),null;var F=N.abstract,x={ref:t};return Object.keys(a).forEach(function(C){la.hasOwnProperty(C)||(x[C]=a[C])}),zi(F[0],x)});ge.displayName="FontAwesomeIcon";ge.propTypes={beat:G.bool,border:G.bool,beatFade:G.bool,bounce:G.bool,className:G.string,fade:G.bool,flash:G.bool,mask:G.oneOfType([G.object,G.array,G.string]),maskId:G.string,fixedWidth:G.bool,inverse:G.bool,flip:G.oneOf([!0,!1,"horizontal","vertical","both"]),icon:G.oneOfType([G.object,G.array,G.string]),listItem:G.bool,pull:G.oneOf(["right","left"]),pulse:G.bool,rotation:G.oneOf([0,90,180,270]),shake:G.bool,size:G.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:G.bool,spinPulse:G.bool,spinReverse:G.bool,symbol:G.oneOfType([G.bool,G.string]),title:G.string,titleId:G.string,transform:G.oneOfType([G.string,G.object]),swapOpacity:G.bool};var zi=as.bind(null,xa.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const rs={prefix:"fas",iconName:"file-csv",icon:[512,512,[],"f6dd","M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 144-208 0c-35.3 0-64 28.7-64 64l0 144-48 0c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128zM200 352l16 0c22.1 0 40 17.9 40 40l0 8c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-8c0-4.4-3.6-8-8-8l-16 0c-4.4 0-8 3.6-8 8l0 80c0 4.4 3.6 8 8 8l16 0c4.4 0 8-3.6 8-8l0-8c0-8.8 7.2-16 16-16s16 7.2 16 16l0 8c0 22.1-17.9 40-40 40l-16 0c-22.1 0-40-17.9-40-40l0-80c0-22.1 17.9-40 40-40zm133.1 0l34.9 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-34.9 0c-7.2 0-13.1 5.9-13.1 13.1c0 5.2 3 9.9 7.8 12l37.4 16.6c16.3 7.2 26.8 23.4 26.8 41.2c0 24.9-20.2 45.1-45.1 45.1L304 512c-8.8 0-16-7.2-16-16s7.2-16 16-16l42.9 0c7.2 0 13.1-5.9 13.1-13.1c0-5.2-3-9.9-7.8-12l-37.4-16.6c-16.3-7.2-26.8-23.4-26.8-41.2c0-24.9 20.2-45.1 45.1-45.1zm98.9 0c8.8 0 16 7.2 16 16l0 31.6c0 23 5.5 45.6 16 66c10.5-20.3 16-42.9 16-66l0-31.6c0-8.8 7.2-16 16-16s16 7.2 16 16l0 31.6c0 34.7-10.3 68.7-29.6 97.6l-5.1 7.7c-3 4.5-8 7.1-13.3 7.1s-10.3-2.7-13.3-7.1l-5.1-7.7c-19.3-28.9-29.6-62.9-29.6-97.6l0-31.6c0-8.8 7.2-16 16-16z"]},Bi={prefix:"fas",iconName:"cloud",icon:[640,512,[9729],"f0c2","M0 336c0 79.5 64.5 144 144 144l368 0c70.7 0 128-57.3 128-128c0-61.9-44-113.6-102.4-125.4c4.1-10.7 6.4-22.4 6.4-34.6c0-53-43-96-96-96c-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32C167.6 32 96 103.6 96 192c0 2.7 .1 5.4 .2 8.1C40.2 219.8 0 273.2 0 336z"]},Ft={prefix:"fas",iconName:"lock",icon:[448,512,[128274],"f023","M144 144l0 48 160 0 0-48c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192l0-48C80 64.5 144.5 0 224 0s144 64.5 144 144l0 48 16 0c35.3 0 64 28.7 64 64l0 192c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 256c0-35.3 28.7-64 64-64l16 0z"]},$i={prefix:"fas",iconName:"shapes",icon:[512,512,["triangle-circle-square"],"f61f","M315.4 15.5C309.7 5.9 299.2 0 288 0s-21.7 5.9-27.4 15.5l-96 160c-5.9 9.9-6.1 22.2-.4 32.2s16.3 16.2 27.8 16.2l192 0c11.5 0 22.2-6.2 27.8-16.2s5.5-22.3-.4-32.2l-96-160zM288 312l0 144c0 22.1 17.9 40 40 40l144 0c22.1 0 40-17.9 40-40l0-144c0-22.1-17.9-40-40-40l-144 0c-22.1 0-40 17.9-40 40zM128 512a128 128 0 1 0 0-256 128 128 0 1 0 0 256z"]},Ui={prefix:"fas",iconName:"cloud-arrow-up",icon:[640,512,[62338,"cloud-upload","cloud-upload-alt"],"f0ee","M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128l-368 0zm79-217c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39L296 392c0 13.3 10.7 24 24 24s24-10.7 24-24l0-134.1 39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0l-80 80z"]},is={prefix:"fas",iconName:"cloud-arrow-down",icon:[640,512,[62337,"cloud-download","cloud-download-alt"],"f0ed","M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128l-368 0zm79-167l80 80c9.4 9.4 24.6 9.4 33.9 0l80-80c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-39 39L344 184c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 134.1-39-39c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9z"]},Vi={prefix:"fas",iconName:"chalkboard",icon:[576,512,["blackboard"],"f51b","M96 32C60.7 32 32 60.7 32 96l0 288 64 0L96 96l384 0 0 288 64 0 0-288c0-35.3-28.7-64-64-64L96 32zM224 384l0 32L32 416c-17.7 0-32 14.3-32 32s14.3 32 32 32l512 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-128 0 0-32c0-17.7-14.3-32-32-32l-128 0c-17.7 0-32 14.3-32 32z"]},cl={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},qi={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},Hi={prefix:"fas",iconName:"sliders",icon:[512,512,["sliders-h"],"f1de","M0 416c0 17.7 14.3 32 32 32l54.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-246.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 384c-17.7 0-32 14.3-32 32zm128 0a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM320 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm32-80c-32.8 0-61 19.7-73.3 48L32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l246.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48l54.7 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-54.7 0c-12.3-28.3-40.5-48-73.3-48zM192 128a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm73.3-64C253 35.7 224.8 16 192 16s-61 19.7-73.3 48L32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l86.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 128c17.7 0 32-14.3 32-32s-14.3-32-32-32L265.3 64z"]},Yi={prefix:"fas",iconName:"ticket",icon:[576,512,[127903],"f145","M64 64C28.7 64 0 92.7 0 128l0 64c0 8.8 7.4 15.7 15.7 18.6C34.5 217.1 48 235 48 256s-13.5 38.9-32.3 45.4C7.4 304.3 0 311.2 0 320l0 64c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-64c0-8.8-7.4-15.7-15.7-18.6C541.5 294.9 528 277 528 256s13.5-38.9 32.3-45.4c8.3-2.9 15.7-9.8 15.7-18.6l0-64c0-35.3-28.7-64-64-64L64 64zm64 112l0 160c0 8.8 7.2 16 16 16l288 0c8.8 0 16-7.2 16-16l0-160c0-8.8-7.2-16-16-16l-288 0c-8.8 0-16 7.2-16 16zM96 160c0-17.7 14.3-32 32-32l320 0c17.7 0 32 14.3 32 32l0 192c0 17.7-14.3 32-32 32l-320 0c-17.7 0-32-14.3-32-32l0-192z"]},os={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},Gi=os,ls={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},cs={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},Ki=({onClick:e})=>n.jsx("div",{className:"settings-button w-full",children:n.jsx("button",{onClick:e,className:"px-4 py-2 hover:bg-[#7d0b1c] rounded-full cursor-pointer w-full",children:"Settings"})});function Xi(){const{logout:e}=an(),t=ba(),a=()=>{e(),t("/")};return n.jsx("button",{onClick:a,className:"px-4 py-2 hover:bg-[#7d0b1c] rounded-full cursor-pointer",children:"Logout"})}const Qi="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2027.5.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%202200%202200'%20style='enable-background:new%200%200%202200%202200;'%20xml:space='preserve'%3e%3cg%20id='Background'%3e%3crect%20style='fill:%23FFFFFF;'%20width='2200'%20height='2200'/%3e%3c/g%3e%3cg%20id='Objects'%3e%3cg%3e%3cpath%20style='fill:%231176FF;'%20d='M1940,1100c0,49.84-4.34,98.66-12.66,146.11C1858.19,1640.38,1514.08,1940,1100,1940%20c-12.72,0-25.37-0.28-37.95-0.84C615.74,1919.31,260,1551.2,260,1100c0-463.92,376.08-840,840-840S1940,636.08,1940,1100z'/%3e%3cpath%20style='fill:%231052E5;'%20d='M1927.34,1246.11C1858.19,1640.38,1514.08,1940,1100,1940c-12.72,0-25.37-0.28-37.95-0.84%20c-187.06-187.1-341.85-342.01-343.06-343.4c-24.36-21.09-37.6-53.25-33.93-86.61c8.15-74.21,31.67-148.08,85.43-181.54%20c99.07-61.65,197.41-87.92,197.41-87.92c3.47-10.78,7.36-46.46,9.4-82.98c-12.55-13.03-24.98-26.63-38.09-39.52%20c-21.18-20.82-26.42-49.21-32.96-84.96c-4.68-2.08-7.35-6.1-9.76-9.78c-0.02-0.03-0.04-0.07-0.07-0.11%20c-4.75-2.06-7.44-6.12-9.87-9.83c-0.02-0.03-0.04-0.07-0.07-0.11c-4.75-2.06-7.44-6.12-9.87-9.82c-2.96-4.54-4.13-9.97-5.23-15.27%20c-3.99-19.07-7.98-38.13-11.96-57.19c-3-14.32-6.01-28.99-3.98-43.48c0.98-6.85,3.41-14.03,9.04-18.06%20c5.62-4.03,15.02-3.06,17.84,3.27c0,0-9.12-89.73-9.12-82.18c-7.62-8.46-13.65-26.88-11.13-41.12%20c2.52-14.23,7.05-28.08,9.31-42.35c2.46-15.68,2.21-31.85,6.71-47.07c6.34-21.45,21.51-39.03,36.95-55.22%20c10.94-11.46,22.25-22.6,34.58-32.53c24.71-19.86,54.16-34.8,85.67-38.33c10.11-1.13,20.31-1.08,30.48-1.03%20c11.4,0.06,22.82,0.11,34.23,0.17c11.41-0.06,22.83-0.11,34.23-0.17c10.17-0.05,20.37-0.1,30.48,1.03%20c31.51,3.53,60.96,18.47,85.67,38.33c10.77,8.67,20.75,18.26,30.39,28.19C1282.78,601.51,1638.99,957.72,1927.34,1246.11z'/%3e%3cpath%20style='fill:%23FFFFFF;'%20d='M1453.46,1612.677C1391.297,1638.104,1279.94,1668,1100,1668s-291.297-29.896-353.46-55.323%20c-41.326-16.903-66.356-59.143-61.483-103.529c8.152-74.208,31.676-148.077,85.437-181.534%20c99.069-61.653,197.409-87.922,197.409-87.922c3.465-10.783,7.359-46.458,9.398-82.984%20c-12.547-13.033-24.982-26.633-38.096-39.521c-24.966-24.536-27.775-59.605-36.687-104.841%20c-16.377,4.655-21.557-3.141-25.905-9.771c-2.963-4.533-4.129-9.965-5.238-15.268c-3.991-19.064-7.974-38.128-11.957-57.192%20c-2.995-14.32-6.007-28.989-3.975-43.479c0.971-6.849,3.408-14.029,9.034-18.06c5.626-4.023,15.025-3.052,17.842,3.27%20c0,0-9.123-89.727-9.123-82.174c-7.618-8.459-13.649-26.884-11.123-41.124c2.518-14.231,7.043-28.082,9.301-42.354%20c2.469-15.672,2.21-31.846,6.711-47.065c6.347-21.452,21.517-39.035,36.954-55.217c10.937-11.463,22.246-22.602,34.583-32.534%20c24.707-19.858,54.157-34.801,85.663-38.331c10.111-1.125,20.311-1.077,30.478-1.028c11.406,0.057,22.82,0.113,34.234,0.17%20c11.414-0.057,22.828-0.113,34.234-0.17c10.167-0.049,20.367-0.097,30.478,1.028c31.506,3.53,60.957,18.473,85.663,38.331%20c12.337,9.933,23.646,21.072,34.583,32.534c15.438,16.182,30.608,33.765,36.954,55.217c4.501,15.219,4.242,31.393,6.711,47.065%20c2.259,14.272,6.784,28.123,9.301,42.354c2.526,14.239-3.505,32.664-11.123,41.124c0-7.553-9.123,82.174-9.123,82.174%20c2.817-6.322,12.216-7.294,17.842-3.27c5.626,4.031,8.063,11.212,9.034,18.06c2.032,14.49-0.979,29.159-3.975,43.479%20c-3.983,19.064-7.966,38.128-11.957,57.192c-1.109,5.302-2.275,10.734-5.238,15.268c-4.347,6.63-9.528,14.426-25.905,9.771%20c-8.913,45.236-11.722,80.304-36.687,104.841c-13.114,12.887-25.548,26.487-38.096,39.521c2.04,36.526,5.934,72.201,9.398,82.984%20c0,0,98.34,26.269,197.409,87.922c53.76,33.457,77.285,107.326,85.437,181.534%20C1519.816,1553.534,1494.786,1595.775,1453.46,1612.677z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Ji=({settingsToggleModal:e})=>{const{user:t}=an(),[a,s]=d.useState(!1),r=()=>{s(i=>!i)};return n.jsxs("div",{className:"relative",children:[n.jsxs("button",{type:"button",className:`flex gap-2 justify-center items-center hover:bg-gray-800 p-1.5   hover:text-white cursor-pointer transition-all duration-200 ${a?"rounded-b-none rounded-t-[18px] bg-gray-950 text-white text-sm":"bg-white text-red-800 rounded-[18px]"}`,onClick:r,children:[n.jsx("img",{src:t!=null&&t.picture?t.picture:Qi,alt:"User avatar",height:25,className:"rounded-full bg-blue-800 overflow-hidden text-xs aspect-square h-[25px]"}),n.jsx("span",{className:"pr-1.5",children:(t==null?void 0:t.first_name)+" "+(t==null?void 0:t.last_name[0])+"."})]}),a&&n.jsxs("div",{className:"dropdown absolute bottom-0 z-[40] translate-y-full bg-gray-950 rounded-2xl min-w-[250px] flex justify-center p-2 flex-col right-0 rounded-tr-none",children:[n.jsx("div",{className:"profile-details w-full justify-center flex items-center py-2 mb-2 bg-gray-800 rounded-xl",children:n.jsx("div",{className:"name text-xl",children:(t==null?void 0:t.first_name)+" "+(t==null?void 0:t.last_name[0])+"."})}),n.jsx(Ki,{onClick:e}),n.jsx(Xi,{})]})]})},Zi=({isOpen:e,onClose:t})=>e?n.jsx("div",{className:"fixed inset-0 bg-[rgba(0,0,0,0.4)] z-50 flex items-center justify-center",children:n.jsxs("div",{className:"bg-white rounded-lg p-4 h-3/4 min-w-[800px] text-black flex flex-col relative",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("h1",{className:"flex flex-col",children:["Settings Modal"," ",n.jsxs("span",{className:"text-2xl font-bold",children:[" "," PLEASE READ LATEST UPDATES "]})]}),n.jsx("button",{onClick:t,"aria-label":"Close Modal",className:"exit-button h-[40px] aspect-square text-white font-bold bg-gray-800 rounded-full cursor-pointer hover:bg-gray-700 flex items-center justify-center transition-all duration-200 ease-in-out absolute top-4 right-4",children:n.jsx(ge,{icon:os,className:"text-2xl"})})]}),n.jsxs("div",{className:"grow overflow-y-auto mt-4",children:[n.jsx("div",{className:"progress-bar my-4 w-full bg-gray-700 h-[50px] rounded-full p-2",children:n.jsx("div",{className:"progress-fill bg-emerald-500 w-[33%] h-full rounded-full flex justify-center items-center animate-pulse",children:"33%"})}),n.jsx("h1",{children:"New Fixes"}),n.jsxs("ul",{className:"ml-4 mb-4",children:[n.jsx("li",{children:" User Authentication to Prevent Unautorized Access on Cloud"}),n.jsx("li",{children:" Restructured Header Buttons"})]}),n.jsx("h1",{children:"Work In Progress (Remaining Issues Only)"}),n.jsxs("ul",{className:" ml-4",children:[n.jsxs("li",{children:[" Conflicting Bugs for Winners Downsync Controllers (API Structure Issue)"," "]}),n.jsx("li",{children:" Enabling of API Access on CPanel Deployment (Restructuring in-progress)"}),n.jsx("li",{children:" Pagination Issues"}),n.jsx("li",{children:" White Listing of Email Accounts"})]}),n.jsxs("div",{className:"mt-4 text-sm",children:[n.jsx("p",{children:"Legend:"}),n.jsxs("div",{className:"flex gap-4 flex-wrap",children:[n.jsx("span",{children:" Not Started Yet"}),n.jsx("span",{children:" Work In Progress"}),n.jsx("span",{children:" Fixing Problem"}),n.jsx("span",{children:" Feature Done"}),n.jsx("span",{children:" New Feature"})]})]}),n.jsxs("h1",{className:"text-emerald-900 mt-5",children:["Estimated Time of Completion:"," ",n.jsx("b",{className:" animate-pulse",children:"5:00 PM - 2025-05-21 (Today) [add 1 hour allowance]"})]})]}),n.jsxs("div",{className:"modal-footer text-right text-sm italic mt-4",children:["Last System Update: ",ws]})]})}):null,eo=({isPresenting:e})=>{const{user:t}=an(),[a,s]=d.useState(!1),[r,i]=d.useState(!1),[o,l]=d.useState(!0),p=()=>l(c=>!c);return d.useEffect(()=>{s(!!e)},[e]),d.useEffect(()=>{i(!0);const c=setTimeout(()=>{i(!1),clearTimeout(c)},1e4)},[]),n.jsx(n.Fragment,{children:n.jsx("header",{className:" h-[50px]",children:n.jsxs("div",{className:"flex items-center justify-between px-4 py-2 h-full",children:[n.jsxs("h1",{className:"flex gap-2 items-center",children:[" ",n.jsxs("span",{className:"brand-name text-2xl font-bold",children:[" ","Kopiko Blanca"]}),"Raffle Draw System"]}),n.jsx("nav",{children:n.jsxs("ul",{className:"flex space-x-1 justify-center items-center",children:[n.jsx("li",{children:n.jsx(Zi,{isOpen:o,onClose:p})}),n.jsx("li",{className:`pr-2 transition-all duration-1000 ${r?"translate-y-0":"-translate-y-[100px]"}`,children:t?`Welcome Back, ${t.first_name}! `:""}),n.jsx("li",{children:n.jsx(Ji,{settingsToggleModal:p})})]})}),a?n.jsx("div",{className:"center-div absolute left-1/2 -translate-x-1/2 bg-[#03813c] h-[30px] flex items-center justify-center text-white rounded-xl py-2 px-4 select-none animate-pulse",children:"Presenting..."}):n.jsx("div",{className:"center-div absolute left-1/2 -translate-x-1/2 bg-gray-800 h-[30px] flex items-center justify-center text-white opacity-50 rounded-xl py-2 px-4 select-none",children:"No Presentation"})]})})})},to=({isPresenting:e,setIsPresenting:t})=>{const[a]=R("isServerActive"),[s,r]=R("presentingStatus"),[i,o]=R("startDraw",{defaultValue:!1}),[l,p]=R("cloudSyncModalOpen",{defaultValue:!1}),[c,h]=R("activeSyncsTotal",{defaultValue:0}),g=()=>{p(y=>!y)},w=()=>{s==="presenting"?r("not-presenting"):(r("presenting"),window.open("/presenter","_blank","width=1300,height=600,noopener,noreferrer"),o(!1))};return n.jsx(n.Fragment,{children:n.jsxs("div",{className:"presenter-controls h-[60px] bg-gray-900 flex justify-between items-center px-3 border-b-1 border-b-gray-600",children:[n.jsx("button",{className:`present-button py-2 px-3 text-sm rounded-xl cursor-pointer ${e?" bg-red-800 hover:bg-red-700":"bg-blue-800 hover:bg-blue-700"}`,onClick:w,type:"button","aria-label":"Start Presentation",children:e?"Stop Presentation":"Start Presentation"}),n.jsxs("button",{className:`pause-presentation h-[40px] text-sm px-3 rounded-2xl  flex items-center justify-center cursor-pointer relative ${a?"bg-emerald-400 hover:bg-emerald-500 animate-pulse text-emerald-800 font-bold":"bg-red-800 hover:bg-red-700 text-red-200"}`,"aria-label":"Server Control",onClick:g,children:[a?"Server Online":"Server Offline",a&&c>0&&n.jsx("div",{className:"number-ball absolute bg-amber-100 text-black text-[12px] font-bold h-[18px] flex justify-center items-center aspect-square rounded-full top-0 right-0 -translate-y-1/4 translate-x-1/4",children:c})]})]})})},no=({setActiveTab:e,activeTab:t})=>n.jsx(n.Fragment,{children:n.jsxs("div",{className:"control-panel-nav text-sm flex justify-between items-center ",children:[n.jsxs("button",{className:`${t==="overview"?"active":""}`,onClick:()=>e("overview"),children:[n.jsx("div",{className:"button-icon",children:n.jsx(ge,{icon:$i,className:"text-2xl text-white"})}),n.jsx("div",{className:"button-label",children:"Overview"})," "]}),n.jsxs("button",{className:`${t==="raffle"?"active":""}`,onClick:()=>e("raffle"),children:[n.jsx("div",{className:"button-icon",children:n.jsx(ge,{icon:Yi,className:"text-2xl text-white"})}),n.jsx("div",{className:"button-label",children:"Raffle"})," "]}),n.jsxs("button",{className:`${t==="presentation"?"active":""}`,onClick:()=>e("presentation"),children:[n.jsx("div",{className:"button-icon",children:n.jsx(ge,{icon:Vi,className:"text-2xl text-white"})}),n.jsx("div",{className:"button-label",children:"Presentation"})," "]}),n.jsxs("button",{className:`${t==="configure"?"active":""}`,onClick:()=>e("configure"),children:[n.jsx("div",{className:"button-icon",children:n.jsx(ge,{icon:Hi,className:"text-2xl text-white"})}),n.jsx("div",{className:"button-label",children:"Configure"})," "]})]})});var us={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((a,s)=>{e.exports=s()})(ps,function a(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},r,i=!s.document&&!!s.postMessage,o=s.IS_PAPA_WORKER||!1,l={},p=0,c={};function h(u){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(f){var m=v(f);m.chunkSize=parseInt(m.chunkSize),f.step||f.chunk||(m.chunkSize=null),this._handle=new F(m),(this._handle.streamer=this)._config=m}).call(this,u),this.parseChunk=function(f,m){var S=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<S){let D=this._config.newline;D||(k=this._config.quoteChar||'"',D=this._handle.guessLineEndings(f,k)),f=[...f.split(D).slice(S)].join(D)}this.isFirstChunk&&P(this._config.beforeFirstChunk)&&(k=this._config.beforeFirstChunk(f))!==void 0&&(f=k),this.isFirstChunk=!1,this._halted=!1;var S=this._partialLine+f,k=(this._partialLine="",this._handle.parse(S,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(f=k.meta.cursor,S=(this._finished||(this._partialLine=S.substring(f-this._baseIndex),this._baseIndex=f),k&&k.data&&(this._rowCount+=k.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)s.postMessage({results:k,workerId:c.WORKER_ID,finished:S});else if(P(this._config.chunk)&&!m){if(this._config.chunk(k,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=k=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(k.data),this._completeResults.errors=this._completeResults.errors.concat(k.errors),this._completeResults.meta=k.meta),this._completed||!S||!P(this._config.complete)||k&&k.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),S||k&&k.meta.paused||this._nextChunk(),k}this._halted=!0},this._sendError=function(f){P(this._config.error)?this._config.error(f):o&&this._config.error&&s.postMessage({workerId:c.WORKER_ID,error:f,finished:!1})}}function g(u){var f;(u=u||{}).chunkSize||(u.chunkSize=c.RemoteChunkSize),h.call(this,u),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(m){this._input=m,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(f=new XMLHttpRequest,this._config.withCredentials&&(f.withCredentials=this._config.withCredentials),i||(f.onload=T(this._chunkLoaded,this),f.onerror=T(this._chunkError,this)),f.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var m,S=this._config.downloadRequestHeaders;for(m in S)f.setRequestHeader(m,S[m])}var k;this._config.chunkSize&&(k=this._start+this._config.chunkSize-1,f.setRequestHeader("Range","bytes="+this._start+"-"+k));try{f.send(this._config.downloadRequestBody)}catch(D){this._chunkError(D.message)}i&&f.status===0&&this._chunkError()}},this._chunkLoaded=function(){f.readyState===4&&(f.status<200||400<=f.status?this._chunkError():(this._start+=this._config.chunkSize||f.responseText.length,this._finished=!this._config.chunkSize||this._start>=(m=>(m=m.getResponseHeader("Content-Range"))!==null?parseInt(m.substring(m.lastIndexOf("/")+1)):-1)(f),this.parseChunk(f.responseText)))},this._chunkError=function(m){m=f.statusText||m,this._sendError(new Error(m))}}function w(u){(u=u||{}).chunkSize||(u.chunkSize=c.LocalChunkSize),h.call(this,u);var f,m,S=typeof FileReader<"u";this.stream=function(k){this._input=k,m=k.slice||k.webkitSlice||k.mozSlice,S?((f=new FileReader).onload=T(this._chunkLoaded,this),f.onerror=T(this._chunkError,this)):f=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var k=this._input,D=(this._config.chunkSize&&(D=Math.min(this._start+this._config.chunkSize,this._input.size),k=m.call(k,this._start,D)),f.readAsText(k,this._config.encoding));S||this._chunkLoaded({target:{result:D}})},this._chunkLoaded=function(k){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(k.target.result)},this._chunkError=function(){this._sendError(f.error)}}function y(u){var f;h.call(this,u=u||{}),this.stream=function(m){return f=m,this._nextChunk()},this._nextChunk=function(){var m,S;if(!this._finished)return m=this._config.chunkSize,f=m?(S=f.substring(0,m),f.substring(m)):(S=f,""),this._finished=!f,this.parseChunk(S)}}function N(u){h.call(this,u=u||{});var f=[],m=!0,S=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(k){this._input=k,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){S&&f.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),f.length?this.parseChunk(f.shift()):m=!0},this._streamData=T(function(k){try{f.push(typeof k=="string"?k:k.toString(this._config.encoding)),m&&(m=!1,this._checkIsFinished(),this.parseChunk(f.shift()))}catch(D){this._streamError(D)}},this),this._streamError=T(function(k){this._streamCleanUp(),this._sendError(k)},this),this._streamEnd=T(function(){this._streamCleanUp(),S=!0,this._streamData("")},this),this._streamCleanUp=T(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function F(u){var f,m,S,k,D=Math.pow(2,53),K=-D,re=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ae=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,z=this,Z=0,L=0,se=!1,M=!1,H=[],E={data:[],errors:[],meta:{}};function ie(q){return u.skipEmptyLines==="greedy"?q.join("").trim()==="":q.length===1&&q[0].length===0}function V(){if(E&&S&&(me("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),S=!1),u.skipEmptyLines&&(E.data=E.data.filter(function(W){return!ie(W)})),de()){let W=function(ee,ue){P(u.transformHeader)&&(ee=u.transformHeader(ee,ue)),H.push(ee)};if(E)if(Array.isArray(E.data[0])){for(var q=0;de()&&q<E.data.length;q++)E.data[q].forEach(W);E.data.splice(0,1)}else E.data.forEach(W)}function $(W,ee){for(var ue=u.header?{}:[],X=0;X<W.length;X++){var Q=X,Y=W[X],Y=((U,j)=>(B=>(u.dynamicTypingFunction&&u.dynamicTyping[B]===void 0&&(u.dynamicTyping[B]=u.dynamicTypingFunction(B)),(u.dynamicTyping[B]||u.dynamicTyping)===!0))(U)?j==="true"||j==="TRUE"||j!=="false"&&j!=="FALSE"&&((B=>{if(re.test(B)&&(B=parseFloat(B),K<B&&B<D))return 1})(j)?parseFloat(j):ae.test(j)?new Date(j):j===""?null:j):j)(Q=u.header?X>=H.length?"__parsed_extra":H[X]:Q,Y=u.transform?u.transform(Y,Q):Y);Q==="__parsed_extra"?(ue[Q]=ue[Q]||[],ue[Q].push(Y)):ue[Q]=Y}return u.header&&(X>H.length?me("FieldMismatch","TooManyFields","Too many fields: expected "+H.length+" fields but parsed "+X,L+ee):X<H.length&&me("FieldMismatch","TooFewFields","Too few fields: expected "+H.length+" fields but parsed "+X,L+ee)),ue}var oe;E&&(u.header||u.dynamicTyping||u.transform)&&(oe=1,!E.data.length||Array.isArray(E.data[0])?(E.data=E.data.map($),oe=E.data.length):E.data=$(E.data,0),u.header&&E.meta&&(E.meta.fields=H),L+=oe)}function de(){return u.header&&H.length===0}function me(q,$,oe,W){q={type:q,code:$,message:oe},W!==void 0&&(q.row=W),E.errors.push(q)}P(u.step)&&(k=u.step,u.step=function(q){E=q,de()?V():(V(),E.data.length!==0&&(Z+=q.data.length,u.preview&&Z>u.preview?m.abort():(E.data=E.data[0],k(E,z))))}),this.parse=function(q,$,oe){var W=u.quoteChar||'"',W=(u.newline||(u.newline=this.guessLineEndings(q,W)),S=!1,u.delimiter?P(u.delimiter)&&(u.delimiter=u.delimiter(q),E.meta.delimiter=u.delimiter):((W=((ee,ue,X,Q,Y)=>{var U,j,B,ve;Y=Y||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Se=0;Se<Y.length;Se++){for(var je,we=Y[Se],he=0,pe=0,te=0,J=(B=void 0,new C({comments:Q,delimiter:we,newline:ue,preview:10}).parse(ee)),ke=0;ke<J.data.length;ke++)X&&ie(J.data[ke])?te++:(je=J.data[ke].length,pe+=je,B===void 0?B=je:0<je&&(he+=Math.abs(je-B),B=je));0<J.data.length&&(pe/=J.data.length-te),(j===void 0||he<=j)&&(ve===void 0||ve<pe)&&1.99<pe&&(j=he,U=we,ve=pe)}return{successful:!!(u.delimiter=U),bestDelimiter:U}})(q,u.newline,u.skipEmptyLines,u.comments,u.delimitersToGuess)).successful?u.delimiter=W.bestDelimiter:(S=!0,u.delimiter=c.DefaultDelimiter),E.meta.delimiter=u.delimiter),v(u));return u.preview&&u.header&&W.preview++,f=q,m=new C(W),E=m.parse(f,$,oe),V(),se?{meta:{paused:!0}}:E||{meta:{paused:!1}}},this.paused=function(){return se},this.pause=function(){se=!0,m.abort(),f=P(u.chunk)?"":f.substring(m.getCharIndex())},this.resume=function(){z.streamer._halted?(se=!1,z.streamer.parseChunk(f,!0)):setTimeout(z.resume,3)},this.aborted=function(){return M},this.abort=function(){M=!0,m.abort(),E.meta.aborted=!0,P(u.complete)&&u.complete(E),f=""},this.guessLineEndings=function(ee,W){ee=ee.substring(0,1048576);var W=new RegExp(x(W)+"([^]*?)"+x(W),"gm"),oe=(ee=ee.replace(W,"")).split("\r"),W=ee.split(`
`),ee=1<W.length&&W[0].length<oe[0].length;if(oe.length===1||ee)return`
`;for(var ue=0,X=0;X<oe.length;X++)oe[X][0]===`
`&&ue++;return ue>=oe.length/2?`\r
`:"\r"}}function x(u){return u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function C(u){var f=(u=u||{}).delimiter,m=u.newline,S=u.comments,k=u.step,D=u.preview,K=u.fastMode,re=null,ae=!1,z=u.quoteChar==null?'"':u.quoteChar,Z=z;if(u.escapeChar!==void 0&&(Z=u.escapeChar),(typeof f!="string"||-1<c.BAD_DELIMITERS.indexOf(f))&&(f=","),S===f)throw new Error("Comment character same as delimiter");S===!0?S="#":(typeof S!="string"||-1<c.BAD_DELIMITERS.indexOf(S))&&(S=!1),m!==`
`&&m!=="\r"&&m!==`\r
`&&(m=`
`);var L=0,se=!1;this.parse=function(M,H,E){if(typeof M!="string")throw new Error("Input must be a string");var ie=M.length,V=f.length,de=m.length,me=S.length,q=P(k),$=[],oe=[],W=[],ee=L=0;if(!M)return he();if(K||K!==!1&&M.indexOf(z)===-1){for(var ue=M.split(m),X=0;X<ue.length;X++){if(W=ue[X],L+=W.length,X!==ue.length-1)L+=m.length;else if(E)return he();if(!S||W.substring(0,me)!==S){if(q){if($=[],ve(W.split(f)),pe(),se)return he()}else ve(W.split(f));if(D&&D<=X)return $=$.slice(0,D),he(!0)}}return he()}for(var Q=M.indexOf(f,L),Y=M.indexOf(m,L),U=new RegExp(x(Z)+x(z),"g"),j=M.indexOf(z,L);;)if(M[L]===z)for(j=L,L++;;){if((j=M.indexOf(z,j+1))===-1)return E||oe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:$.length,index:L}),je();if(j===ie-1)return je(M.substring(L,j).replace(U,z));if(z===Z&&M[j+1]===Z)j++;else if(z===Z||j===0||M[j-1]!==Z){Q!==-1&&Q<j+1&&(Q=M.indexOf(f,j+1));var B=Se((Y=Y!==-1&&Y<j+1?M.indexOf(m,j+1):Y)===-1?Q:Math.min(Q,Y));if(M.substr(j+1+B,V)===f){W.push(M.substring(L,j).replace(U,z)),M[L=j+1+B+V]!==z&&(j=M.indexOf(z,L)),Q=M.indexOf(f,L),Y=M.indexOf(m,L);break}if(B=Se(Y),M.substring(j+1+B,j+1+B+de)===m){if(W.push(M.substring(L,j).replace(U,z)),we(j+1+B+de),Q=M.indexOf(f,L),j=M.indexOf(z,L),q&&(pe(),se))return he();if(D&&$.length>=D)return he(!0);break}oe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:$.length,index:L}),j++}}else if(S&&W.length===0&&M.substring(L,L+me)===S){if(Y===-1)return he();L=Y+de,Y=M.indexOf(m,L),Q=M.indexOf(f,L)}else if(Q!==-1&&(Q<Y||Y===-1))W.push(M.substring(L,Q)),L=Q+V,Q=M.indexOf(f,L);else{if(Y===-1)break;if(W.push(M.substring(L,Y)),we(Y+de),q&&(pe(),se))return he();if(D&&$.length>=D)return he(!0)}return je();function ve(te){$.push(te),ee=L}function Se(te){var J=0;return J=te!==-1&&(te=M.substring(j+1,te))&&te.trim()===""?te.length:J}function je(te){return E||(te===void 0&&(te=M.substring(L)),W.push(te),L=ie,ve(W),q&&pe()),he()}function we(te){L=te,ve(W),W=[],Y=M.indexOf(m,L)}function he(te){if(u.header&&!H&&$.length&&!ae){var J=$[0],ke={},ne=new Set(J);let xe=!1;for(let Le=0;Le<J.length;Le++){let _e=J[Le];if(ke[_e=P(u.transformHeader)?u.transformHeader(_e,Le):_e]){let $e,Ze=ke[_e];for(;$e=_e+"_"+Ze,Ze++,ne.has($e););ne.add($e),J[Le]=$e,ke[_e]++,xe=!0,(re=re===null?{}:re)[$e]=_e}else ke[_e]=1,J[Le]=_e;ne.add(_e)}xe&&console.warn("Duplicate headers found and renamed."),ae=!0}return{data:$,errors:oe,meta:{delimiter:f,linebreak:m,aborted:se,truncated:!!te,cursor:ee+(H||0),renamedHeaders:re}}}function pe(){k(he()),$=[],oe=[]}},this.abort=function(){se=!0},this.getCharIndex=function(){return L}}function _(u){var f=u.data,m=l[f.workerId],S=!1;if(f.error)m.userError(f.error,f.file);else if(f.results&&f.results.data){var k={abort:function(){S=!0,I(f.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:A,resume:A};if(P(m.userStep)){for(var D=0;D<f.results.data.length&&(m.userStep({data:f.results.data[D],errors:f.results.errors,meta:f.results.meta},k),!S);D++);delete f.results}else P(m.userChunk)&&(m.userChunk(f.results,k,f.file),delete f.results)}f.finished&&!S&&I(f.workerId,f.results)}function I(u,f){var m=l[u];P(m.userComplete)&&m.userComplete(f),m.terminate(),delete l[u]}function A(){throw new Error("Not implemented.")}function v(u){if(typeof u!="object"||u===null)return u;var f,m=Array.isArray(u)?[]:{};for(f in u)m[f]=v(u[f]);return m}function T(u,f){return function(){u.apply(f,arguments)}}function P(u){return typeof u=="function"}return c.parse=function(u,f){var m=(f=f||{}).dynamicTyping||!1;if(P(m)&&(f.dynamicTypingFunction=m,m={}),f.dynamicTyping=m,f.transform=!!P(f.transform)&&f.transform,!f.worker||!c.WORKERS_SUPPORTED)return m=null,c.NODE_STREAM_INPUT,typeof u=="string"?(u=(S=>S.charCodeAt(0)!==65279?S:S.slice(1))(u),m=new(f.download?g:y)(f)):u.readable===!0&&P(u.read)&&P(u.on)?m=new N(f):(s.File&&u instanceof File||u instanceof Object)&&(m=new w(f)),m.stream(u);(m=(()=>{var S;return!!c.WORKERS_SUPPORTED&&(S=(()=>{var k=s.URL||s.webkitURL||null,D=a.toString();return c.BLOB_URL||(c.BLOB_URL=k.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",D,")();"],{type:"text/javascript"})))})(),(S=new s.Worker(S)).onmessage=_,S.id=p++,l[S.id]=S)})()).userStep=f.step,m.userChunk=f.chunk,m.userComplete=f.complete,m.userError=f.error,f.step=P(f.step),f.chunk=P(f.chunk),f.complete=P(f.complete),f.error=P(f.error),delete f.worker,m.postMessage({input:u,config:f,workerId:m.id})},c.unparse=function(u,f){var m=!1,S=!0,k=",",D=`\r
`,K='"',re=K+K,ae=!1,z=null,Z=!1,L=((()=>{if(typeof f=="object"){if(typeof f.delimiter!="string"||c.BAD_DELIMITERS.filter(function(H){return f.delimiter.indexOf(H)!==-1}).length||(k=f.delimiter),typeof f.quotes!="boolean"&&typeof f.quotes!="function"&&!Array.isArray(f.quotes)||(m=f.quotes),typeof f.skipEmptyLines!="boolean"&&typeof f.skipEmptyLines!="string"||(ae=f.skipEmptyLines),typeof f.newline=="string"&&(D=f.newline),typeof f.quoteChar=="string"&&(K=f.quoteChar),typeof f.header=="boolean"&&(S=f.header),Array.isArray(f.columns)){if(f.columns.length===0)throw new Error("Option columns is empty");z=f.columns}f.escapeChar!==void 0&&(re=f.escapeChar+K),f.escapeFormulae instanceof RegExp?Z=f.escapeFormulae:typeof f.escapeFormulae=="boolean"&&f.escapeFormulae&&(Z=/^[=+\-@\t\r].*$/)}})(),new RegExp(x(K),"g"));if(typeof u=="string"&&(u=JSON.parse(u)),Array.isArray(u)){if(!u.length||Array.isArray(u[0]))return se(null,u,ae);if(typeof u[0]=="object")return se(z||Object.keys(u[0]),u,ae)}else if(typeof u=="object")return typeof u.data=="string"&&(u.data=JSON.parse(u.data)),Array.isArray(u.data)&&(u.fields||(u.fields=u.meta&&u.meta.fields||z),u.fields||(u.fields=Array.isArray(u.data[0])?u.fields:typeof u.data[0]=="object"?Object.keys(u.data[0]):[]),Array.isArray(u.data[0])||typeof u.data[0]=="object"||(u.data=[u.data])),se(u.fields||[],u.data||[],ae);throw new Error("Unable to serialize unrecognized input");function se(H,E,ie){var V="",de=(typeof H=="string"&&(H=JSON.parse(H)),typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(H)&&0<H.length),me=!Array.isArray(E[0]);if(de&&S){for(var q=0;q<H.length;q++)0<q&&(V+=k),V+=M(H[q],q);0<E.length&&(V+=D)}for(var $=0;$<E.length;$++){var oe=(de?H:E[$]).length,W=!1,ee=de?Object.keys(E[$]).length===0:E[$].length===0;if(ie&&!de&&(W=ie==="greedy"?E[$].join("").trim()==="":E[$].length===1&&E[$][0].length===0),ie==="greedy"&&de){for(var ue=[],X=0;X<oe;X++){var Q=me?H[X]:X;ue.push(E[$][Q])}W=ue.join("").trim()===""}if(!W){for(var Y=0;Y<oe;Y++){0<Y&&!ee&&(V+=k);var U=de&&me?H[Y]:Y;V+=M(E[$][U],Y)}$<E.length-1&&(!ie||0<oe&&!ee)&&(V+=D)}}return V}function M(H,E){var ie,V;return H==null?"":H.constructor===Date?JSON.stringify(H).slice(1,25):(V=!1,Z&&typeof H=="string"&&Z.test(H)&&(H="'"+H,V=!0),ie=H.toString().replace(L,re),(V=V||m===!0||typeof m=="function"&&m(H,E)||Array.isArray(m)&&m[E]||((de,me)=>{for(var q=0;q<me.length;q++)if(-1<de.indexOf(me[q]))return!0;return!1})(ie,c.BAD_DELIMITERS)||-1<ie.indexOf(k)||ie.charAt(0)===" "||ie.charAt(ie.length-1)===" ")?K+ie+K:ie)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!s.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=C,c.ParserHandle=F,c.NetworkStreamer=g,c.FileStreamer=w,c.StringStreamer=y,c.ReadableStreamStreamer=N,s.jQuery&&((r=s.jQuery).fn.parse=function(u){var f=u.config||{},m=[];return this.each(function(D){if(!(r(this).prop("tagName").toUpperCase()==="INPUT"&&r(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var K=0;K<this.files.length;K++)m.push({file:this.files[K],inputElem:this,instanceConfig:r.extend({},f)})}),S(),this;function S(){if(m.length===0)P(u.complete)&&u.complete();else{var D,K,re,ae,z=m[0];if(P(u.before)){var Z=u.before(z.file,z.inputElem);if(typeof Z=="object"){if(Z.action==="abort")return D="AbortError",K=z.file,re=z.inputElem,ae=Z.reason,void(P(u.error)&&u.error({name:D},K,re,ae));if(Z.action==="skip")return void k();typeof Z.config=="object"&&(z.instanceConfig=r.extend(z.instanceConfig,Z.config))}else if(Z==="skip")return void k()}var L=z.instanceConfig.complete;z.instanceConfig.complete=function(se){P(L)&&L(se,z.file,z.inputElem),k()},c.parse(z.file,z.instanceConfig)}}function k(){m.splice(0,1),S()}}),o&&(s.onmessage=function(u){u=u.data,c.WORKER_ID===void 0&&u&&(c.WORKER_ID=u.workerId),typeof u.input=="string"?s.postMessage({workerId:c.WORKER_ID,results:c.parse(u.input,u.config),finished:!0}):(s.File&&u.input instanceof File||u.input instanceof Object)&&(u=c.parse(u.input,u.config))&&s.postMessage({workerId:c.WORKER_ID,results:u,finished:!0})}),(g.prototype=Object.create(h.prototype)).constructor=g,(w.prototype=Object.create(h.prototype)).constructor=w,(y.prototype=Object.create(y.prototype)).constructor=y,(N.prototype=Object.create(h.prototype)).constructor=N,c})})(us);var ao=us.exports;const gn=ga(ao),so=({children:e,className:t})=>n.jsx("div",{className:`upload-box-header text-lg  w-full mb-4 ${t}`,children:e}),ro=({children:e,className:t})=>n.jsx("div",{className:`grow bg-green h-0 ${t}`,children:e}),io=({children:e,className:t})=>n.jsx("div",{className:`w-full ${t}`,children:e}),oo="w-full p-4 border-dashed rounded-lg border-2 text-center transition-all duration-200 aspect-[5/4] flex flex-col justify-center items-center relative",le=({children:e,className:t,onDragOver:a,onDragLeave:s,onDrop:r})=>n.jsx("div",{className:`${oo} ${t}`,onDragOver:a,onDragLeave:s,onDrop:r,children:e});le.Header=so;le.Body=ro;le.Footer=io;const lo="bg-gray-600 px-4 h-[40px] w-full text-center rounded-xl  mt-2 flex items-center justify-center gap-2",De=({className:e,children:t,onClick:a,clickable:s=!0})=>{const r=s?"cursor-pointer hover:bg-gray-500":"";return n.jsx("button",{className:`${lo} ${e} ${r}`,onClick:a,children:t})},ca=async()=>{try{return(await lt.get("/participants/count")).data}catch(e){throw console.error("Error fetching participants count:",e),e}};function co(e){if(e===0)return"0 B";const t=["B","KB","MB","GB","TB"],a=1024,s=Math.floor(Math.log(e)/Math.log(a)),r=e/Math.pow(a,s);return`${r%1===0?r:r.toFixed(2)} ${t[s]}`}function ua(e){const a=[{label:"d",value:Math.floor(e/86400)},{label:"h",value:Math.floor(e%86400/3600)},{label:"m",value:Math.floor(e%3600/60)},{label:"s",value:e%60}].filter(s=>s.value>0).slice(0,2);return a.length>0?a.map(s=>`${s.value}${s.label}`).join(" "):"0s"}const uo=({setFileAttached:e,setFileDetails:t,setUploadStatus:a,uploadStatus:s,setCloudData:r,setTriggerImport:i,setDownloadElapsedTime:o,fileAttached:l})=>{d.useRef(null);const[p]=R("isServerActive"),[c,h]=d.useState(!0),[g,w]=d.useState(!1),[y,N]=d.useState([]),[F,x]=R("withCloudData",{defaultValue:!1}),[C,_]=d.useState(!1),[I,A]=d.useState(0);d.useEffect(()=>{y&&r(y)},[y]);const[v,T]=d.useState("default"),P=d.useRef(null),u=U=>{U.preventDefault(),w(!0),T("catcher")},f=U=>{w(!1),T("default")},[m,S]=d.useState(5),[k,D]=d.useState(!1);d.useEffect(()=>{!l&&P.current&&(P.current.value="")},[l]);const K=async U=>{if(D(!0),U.type==="text/csv"){e(U);const j=await Q(U);if(j&&c)a("attached"),t({entries:j}),D(!1);else{e(null);let B=4;const ve=setInterval(()=>{D(!1),S(B),B--,B<0&&(clearInterval(ve),h(!0),S(5))},1e3)}}else alert("Please upload a valid CSV file.")},re=async U=>{U.preventDefault(),w(!1),T("default");const j=U.dataTransfer.files;j.length>0&&await K(j[0])},ae=async U=>{const j=U.target.files;j&&j.length>0&&await K(j[0])},[z,Z]=d.useState(60),[L,se]=d.useState(0),[M,H]=d.useState(0),E=d.useRef([]),ie=d.useRef(0),V=d.useRef(Date.now()),de=10,me=d.useRef(!1),q=d.useRef(null),$=d.useRef(null),oe=(U,j)=>{const B=U/j*100;A(B);const ve=Date.now(),Se=ie.current,je=V.current,we=U-Se,he=ve-je;if(we>0){const ne=he/we;E.current.push(ne),E.current.length>de&&E.current.shift(),ie.current=U,V.current=ve}const pe=E.current.reduce((ne,xe)=>ne+xe,0)/E.current.length,te=j-U,J=pe*te,ke=Math.ceil(Math.max(0,J/1e3));Z(ke)};d.useEffect(()=>{const U=setInterval(()=>{me.current&&Z(j=>Math.max(0,j-1))},1e3);return()=>clearInterval(U)},[]);const W=()=>{var U;(U=P.current)==null||U.click()},ee=()=>{ue(oe)},ue=async U=>{if(!C){_(!0),me.current=!0,q.current=Date.now(),$.current=setInterval(()=>{if(q.current){const j=Date.now()-q.current,B=Math.floor(j/1e3);se(B),o(B)}},1e3);try{const{total:j}=await ca();let B=[];if(j&&j>0){const Se=Math.ceil(j/2500),je=10;let we=0,he=1;const pe=new Array(Se),te=async ne=>(await gs(ne,2500)).data,J=async()=>{for(;;){const ne=he++;if(ne>Se)return;try{const xe=await te(ne);pe[ne-1]=xe,we+=xe.length,U(we,j)}catch(xe){console.error(` Failed batch ${ne}:`,xe),pe[ne-1]=null}}},ke=Array.from({length:je},()=>J());await Promise.all(ke);for(let ne=0;ne<pe.length;ne++)if(pe[ne]===null)try{const xe=await te(ne+1);pe[ne]=xe,we+=xe.length,U(we,j)}catch(xe){console.error(` Retry failed for batch ${ne+1}`,xe),pe[ne]=[]}return B=pe.flat().sort((ne,xe)=>ne.id_entry-xe.id_entry),console.log(" FINAL DATA: ",B),B.length!==j&&console.warn(` Mismatch in expected vs actual data count. Expected: ${j}, Got: ${B.length}`),console.log(" All participant data fetched:",B.length),t({entries:B.length}),N(B),B=[],a("processing"),i(!0),_(!1),me.current=!1,$.current&&(clearInterval($.current),$.current=null),!0}else return console.warn(" No participants found."),me.current=!1,!1}catch(j){return console.error(" Error downloading participant data:",j),_(!1),me.current=!1,$.current&&(clearInterval($.current),$.current=null),!1}}},X=["id_entry","full_name","raffle_code","regional_location","registered_at"],Q=async U=>new Promise(j=>{let B=0,ve=!1;gn.parse(U,{header:!0,skipEmptyLines:!0,step:(Se,je)=>{if(!ve){const we=Se.meta.fields??[],he=we.some(te=>!X.includes(te.toLowerCase())),pe=we.length>X.length;if(he||pe){je.abort(),h(!1),j(0);return}h(!0),ve=!0}B++},complete:()=>{j(B)},error:()=>{h(!1),j(0)}})}),Y=async()=>{if(p){const{total:U}=await ca();U>0?(x(!0),console.log("With Cloud Data? ",U>0),H(U)):x(!1)}else x(!1)};return d.useEffect(()=>{Y()},[p]),d.useEffect(()=>()=>{$.current&&clearInterval($.current)},[]),n.jsx("div",{className:`upload-phase ${s!=="idle"&&"hidden"}`,children:F?n.jsxs(le,{className:"bg-amber-600 overflow-hidden",children:[n.jsxs(le.Body,{className:"flex justify-center items-center flex-col gap-4 z-10",children:[n.jsx("h2",{className:"text-base",children:"Participants Data found in Database "}),M>0?n.jsxs("div",{children:[n.jsxs("p",{children:["Total Participants from cloud:"," ",n.jsx("span",{className:"font-bold",children:M.toLocaleString()})]}),n.jsxs("p",{title:"This estimate is not an accurate computation of exact size. ",children:["Estimated Size:"," ",n.jsx("span",{className:"font-bold",children:co(M*70)})]})]}):n.jsx("p",{className:"animate-pulse",children:"Loading Total Count of Participants..."}),!C&&n.jsx("p",{children:"Data can be downloaded. Click download button below to start."})]}),n.jsxs(le.Footer,{className:"z-10",children:[C&&n.jsxs("div",{className:"clock justify-between flex",children:[n.jsxs("div",{className:"bg-[#000000b0] p-1 px-2 text-sm rounded-2xl",children:[" ELT: ",ua(L)]}),n.jsxs("div",{className:"bg-[#000000b0] p-1 px-2 text-sm rounded-2xl",children:[" ETR: ",ua(z)]})]}),n.jsx(De,{onClick:ee,className:"!bg-[#0000009d]",children:C?n.jsxs("span",{className:"animate-pulse",children:["Downloading - Progress: ",I.toFixed(2),"%"]}):"Download Data to this app"})]}),n.jsx("div",{className:"progress-bar-shell absolute top-0 w-full h-full z-[0]",children:n.jsx("div",{className:"progress-bar bg-[#8d600086] w-full h-full",style:{transform:`translateX(-${100-I}%)`}})})]}):n.jsxs(n.Fragment,{children:[n.jsx(le,{onDragOver:u,onDragLeave:f,onDrop:re,className:`${g&&"bg-gray-300 text-gray-800 animate-pulse"}`,children:g?n.jsx("p",{className:"text-xl",children:"Drop CSV File Here"}):n.jsxs(n.Fragment,{children:[n.jsxs(le.Body,{className:"flex justify-center items-center flex-col gap-4",children:[n.jsxs("h2",{className:"text-base",children:["Drag and drop a CSV file here or ",n.jsx("br",{})," click button below to upload"," "]}),n.jsx("p",{children:"Upload a CSV file with the participants data. The file should contain the following columns: Entry ID, Full Name, Raffle Code, Region/Location."})]}),n.jsxs(le.Footer,{children:[k?n.jsx(De,{className:"bg-red-800 hover:bg-red-800 animate-pulse text-white !cursor-not-allowed",children:"Reading File..."}):c?n.jsx(De,{onClick:()=>{k||W()},children:"Select & Attach File"}):n.jsx(n.Fragment,{children:n.jsxs(De,{className:"bg-red-800 hover:bg-red-800 animate-pulse text-white !cursor-not-allowed",children:["File is invalid. Try again in ",m," ","seconds."]})}),n.jsx("label",{htmlFor:"file-upload",className:"sr-only hidden",children:"Upload File"}),n.jsx("input",{type:"file",name:"file-upload",id:"file-upload",title:"Upload a CSV file",className:"hidden",ref:P,accept:".csv",onChange:ae})]})]})}),!p&&n.jsxs("div",{className:"text-red-400 mt-4",children:[n.jsx("h2",{className:"text-xl",children:"Server is Offline:"}),n.jsx("p",{children:"Turn on or connect to the server to double check if there is available data on the cloud"})]})]})})},fo=e=>{const t=["B","KB","MB","GB","TB"];let a=e,s=0;for(;a>=1024&&s<t.length-1;)a/=1024,s++;return`${a.toFixed(2)} ${t[s]}`},ho=({fileAttached:e,fileDetails:t,setTriggerImport:a,setUploadStatus:s,uploadStatus:r,setFileAttached:i,setFileDetails:o,cloudData:l})=>{const[p]=R("withCloudData"),c=()=>{e&&(a(!0),s("processing"))},h=()=>{a(!0),s("processing")},g=()=>{i(null),o(null),s("idle")};return n.jsx("div",{className:`upload-phase ${r!=="attached"&&"hidden"}`,children:p?n.jsxs(le,{className:"bg-emerald-800",children:[n.jsx(le.Header,{className:"text-left",children:"Data Downloaded"}),n.jsxs(le.Body,{className:"flex justify-center items-start gap-5",children:[n.jsx("div",{className:"file-icon ",children:n.jsx(ge,{icon:Bi,className:"text-white text-[80px]"})}),n.jsxs("div",{className:"file-details flex flex-col justify-between items-start h-[80px]",children:[n.jsx("div",{className:"file-name text-lg font-bold w-[200px] overflow-hidden ",children:n.jsx("span",{className:"italic",children:"Unknown File"})}),n.jsx("div",{className:"file-subdetails text-sm flex flex-col items-start",children:n.jsxs("span",{children:["Total Entries:"," ",t?n.jsx(n.Fragment,{children:t.entries.toLocaleString()}):n.jsx("span",{className:"italic",children:"--"})]})})]})]}),n.jsxs(le.Footer,{children:[n.jsx("div",{className:"two-btns flex gap-2"}),n.jsx(De,{className:"bg-[#0000008c]! hover:bg-[#00000052]!",onClick:h,children:"Submit & Process Data"})]})]}):n.jsxs(le,{className:"bg-emerald-800",children:[n.jsx(le.Header,{className:"text-left",children:"File Attached:"}),n.jsxs(le.Body,{className:"flex justify-center items-start gap-5 w-full",children:[n.jsx("div",{className:"file-icon ",children:n.jsx(ge,{icon:rs,className:"text-white text-[80px]"})}),n.jsxs("div",{className:"file-details flex flex-col justify-between items-start h-[80px] grow w-0",children:[n.jsx("div",{className:"file-name text-lg font-bold mb-2",children:e?n.jsx("span",{className:"break-all line-clamp-2 w-full",children:e.name}):n.jsx("span",{className:"italic",children:"Unknown File"})}),n.jsxs("div",{className:"file-subdetails text-sm flex flex-col items-start",children:[n.jsxs("span",{children:["Size:"," ",n.jsx("b",{children:e?fo(e.size):n.jsx("span",{className:"italic",children:"--"})})]}),n.jsxs("span",{children:["Entries:"," ",t?n.jsx(n.Fragment,{children:t.entries.toLocaleString()}):n.jsx("span",{className:"italic",children:"--"})]})]})]})]}),n.jsxs(le.Footer,{children:[n.jsx("div",{className:"two-btns flex gap-2",children:n.jsx(De,{className:"bg-red-700 hover:bg-red-600",onClick:g,children:"Cancel"})}),n.jsx(De,{className:"bg-[#0000008c]! hover:bg-[#00000052]!",onClick:c,children:"Submit & Process File"})]})]})})},po=e=>{const t=["B","KB","MB","GB","TB"];let a=e,s=0;for(;a>=1024&&s<t.length-1;)a/=1024,s++;return`${a.toFixed(2)} ${t[s]}`},mo=e=>new Promise((t,a)=>{gn.parse(e,{complete:s=>{t(s.data)},error:s=>{a(s)},header:!0,skipEmptyLines:!0})});function tt(e){return e<10?"0"+e:""+e}async function go(e,t,a){const i=e.sort((o,l)=>o.id_entry-l.id_entry).map(o=>{var c;let l=o.registered_at;if(typeof l=="string"||l instanceof Date){const h=new Date(l);if(!isNaN(h.getTime()))l=p(h);else throw new Error("Invalid date format for registered_at")}function p(h){return`${h.getFullYear()}-${tt(h.getMonth()+1)}-${tt(h.getDate())} ${tt(h.getHours())}:${tt(h.getMinutes())}:${tt(h.getSeconds())}`}return{is_archived:!1,participant_batch_id:1,...o,is_drawn:o.is_drawn===0||!o.is_drawn?"false":"true",id_entry:(c=o.id_entry)==null?void 0:c.toString(),registered_at:l}});for(let o=0;o<i.length;o+=2500){const p=i.slice(o,o+2500).map(c=>ct("participant",c));try{await Promise.all(p);const c=parseFloat(((o+2500)/i.length*100).toFixed(2));a(c)}catch(c){console.error("Error adding participants in batch:",c)}}return i}async function xo(e,t,a){const s=[],r={api_url:a,source:"client-app",destination:"cloud-server",type:"sync-batch",payload:e,method_type:"POST",status:"pending",retry_count:0,error_message:null,priority:"medium",reference_id:t,content_type:"application/json",triggered_by:"system",is_test:!1,next_retry_at:null,headers:{},response_body:null,duration:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};try{const i=await ct("syncCloud",r);s.push(i),console.log(" Batch successfully queued to syncCloud:",r)}catch(i){console.error(" Batch insert to syncCloud failed:",i)}return s}async function bo(e,t,a,s){let r;const i=[],o=e.length;o>=5e5?r=6e4:o>=3e5?r=25e3:r=1e4,console.log(" Starting sync to cloud..."),console.log(` Total entries: ${e.length}`),console.log(` Batch size: ${r}`),console.log(` Batch ID: ${t}`),console.log(` API URL: ${a}`);for(let l=0;l<e.length;l+=r){const p=e.slice(l,l+r),c=Math.floor(l/r)+1;console.log(` Processing batch ${c}...`),console.log(` Entries in this batch: ${p.length}`);try{const h=await xo(p,t,a);i.push(...h);const g=parseFloat(((l+r)/e.length*100).toFixed(2));s(g),console.log(` Batch ${c} added to queue.`),console.log(` Progress: ${g}%`)}catch(h){console.error(` Error syncing batch ${c}:`,h)}}return console.log(" All batches processed and queued for sync."),i}function yo(e){if(e===0)return"0 B";const t=["B","KB","MB","GB","TB"],a=1024,s=Math.floor(Math.log(e)/Math.log(a)),r=e/Math.pow(a,s);return`${r%1===0?r:r.toFixed(2)} ${t[s]}`}const vo=({fileAttached:e,fileDetails:t,triggerImport:a,setUploadStatus:s,uploadStatus:r,cloudData:i,setUploadElapsedTime:o})=>{const[l,p]=d.useState(0),[c,h]=d.useState(!1),[g,w]=d.useState(0),[y,N]=d.useState(0),[F,x]=d.useState(!1),[C,_]=d.useState(0),[I,A]=d.useState(0),v=d.useRef(null),T=d.useRef(null),[P]=R("withCloudData"),[u,f]=R("regionalStats",{defaultValue:null});d.useEffect(()=>{y>0&&v.current===null&&(v.current=Date.now(),T.current=setInterval(()=>{if(v.current){const D=Math.floor((Date.now()-v.current)/1e3);_(D)}},1e3)),y>=100&&T.current&&(clearInterval(T.current),T.current=null)},[y]),d.useEffect(()=>{if(y>0&&y<100&&C>0){const K=C/y*100-C;A(Math.ceil(K))}y===100&&A(0),y>=100&&o(C)},[y,C]);function m(D){const re=[{label:"d",value:Math.floor(D/86400)},{label:"h",value:Math.floor(D%86400/3600)},{label:"m",value:Math.floor(D%3600/60)},{label:"s",value:D%60}].filter(ae=>ae.value>0).slice(0,2);return re.length>0?re.map(ae=>`${ae.value}${ae.label}`).join(" "):"0s"}const S=async D=>{try{let K;if(D?K=await mo(D):K=i,K){const re=await go(K,"WEEK-2025-06",ae=>{N(ae)});if(re){const ae=await k();if(!P&&ae){const z=await bo(re,"batch-2025-05-13-A","/participants/per-batch",Z=>{})}}console.log("Import completed ")}}catch(K){console.error("Import failed",K)}},k=async()=>{const D=await xs(w);return D?(f(D),!0):!1};return d.useEffect(()=>{y>=100&&g>=100&&s("completed")},[y,g]),d.useEffect(()=>{t&&(t==null?void 0:t.entries)>0&&Math.round(l/t.entries*100)},[l]),d.useEffect(()=>{a&&e&&t?t.entries>0&&S(e):a&&i&&S()},[a,t,i]),n.jsx("div",{className:`upload-phase ${r!=="processing"&&"hidden"}`,children:n.jsxs(le,{className:"bg-green-800 relative overflow-hidden",children:[n.jsx(le.Header,{className:"text-left z-10",children:i?"Processing Downloaded Data...":"Uploading File..."}),n.jsx(le.Body,{className:"flex flex-col justify-between z-10 w-full",children:n.jsxs("div",{className:"flex justify-center items-center gap-5 w-full",children:[n.jsx("div",{className:"file-icon w-[80px] mr-4",children:i?n.jsx(ge,{icon:is,className:"text-white text-[80px] "}):n.jsx(ge,{icon:rs,className:"text-white text-[80px]"})}),n.jsxs("div",{className:"file-details flex flex-col justify-between items-start h-[80px] grow w-0",children:[n.jsx("div",{className:"file-name text-lg font-bold mb-2",children:e?n.jsx("span",{className:"break-all line-clamp-2 w-full",children:e.name}):i?n.jsx(n.Fragment,{children:"Data from Cloud"}):n.jsx("span",{className:"italic",children:"Unknown File"})}),n.jsxs("div",{className:"file-subdetails text-sm flex flex-col items-start",children:[n.jsxs("span",{children:["Size:"," ",n.jsx("b",{children:e&&t?po(e.size):i?n.jsx(n.Fragment,{children:yo((t==null?void 0:t.entries)*70)}):n.jsx("span",{className:"italic",children:"--"})})]}),n.jsxs("span",{children:["Entries:"," ",t?n.jsx(n.Fragment,{children:t.entries.toLocaleString()}):n.jsx("span",{className:"italic",children:"--"})]})]})]})]})}),n.jsxs(le.Footer,{className:" z-10",children:[n.jsxs("div",{className:"clock flex text-sm justify-between",children:[n.jsxs("div",{className:"time-detail bg-[#00000056] p-1 px-2.5 rounded-2xl",children:[" ELT: ",m(C)," "]}),n.jsxs("div",{className:"time-detail bg-[#00000056] p-1 px-2.5 rounded-2xl",children:[" ETR: ",m(I)," "]})]}),n.jsx(De,{clickable:!1,className:"bg-[#0000008c]! ",children:F?n.jsx("span",{className:"pulse text-red-600 font-bold",children:"Please wait..."}):n.jsx(n.Fragment,{children:y<100?n.jsxs(n.Fragment,{children:["Processing File - ",y.toFixed(2),"%"]}):n.jsxs(n.Fragment,{children:["Getting Regional Stats - ",g.toFixed(2),"%"]})})})]}),n.jsx("div",{className:"progress-bar absolute top-0 left-0 h-full bg-green-600 -z-0  transition-all ease-linear  animate-pulse ",style:{width:`${y}%`}}),n.jsx("div",{className:"progress-bar absolute top-0 left-0 h-full bg-amber-600 -z-0  transition-all ease-linear  animate-pulse opacity-40 ",style:{width:`${g}%`}})]})})},wo=({selectedWeek:e,uploadStatus:t,uploadElapsedTime:a,cloudData:s,downloadElapsedTime:r})=>{const[i,o]=R("withParticipantsData"),[l,p]=R("fileDetails",{defaultValue:null}),c=()=>{o(!0)};function h(g){const y=[{label:"d",value:Math.floor(g/86400)},{label:"h",value:Math.floor(g%86400/3600)},{label:"m",value:Math.floor(g%3600/60)},{label:"s",value:g%60}].filter(N=>N.value>0).slice(0,2);return y.length>0?y.map(N=>`${N.value}${N.label}`).join(" "):"0s"}return n.jsx("div",{className:`upload-phase ${t!=="completed"&&"hidden"}`,children:n.jsxs(le,{className:"bg-yellow-800 relative overflow-hidden",children:[n.jsx(le.Header,{children:"Processing Complete!"}),n.jsxs(le.Body,{className:"flex flex-col justify-around z-10",children:[n.jsx("div",{className:"time-remaining",children:n.jsxs("div",{className:"bg-[#000000d8] text-white flex flex-col justify-center items-center rounded-full p-3 px-6",children:["Selected Week: ",n.jsx("br",{}),n.jsx("span",{className:"font-bol",children:e?e.weekName:"Loading"})]})}),n.jsx("div",{className:"flex justify-center items-center",children:n.jsx("div",{className:"file-details flex flex-col justify-between items-start",children:n.jsxs("div",{className:"file-subdetails text-sm flex flex-col items-center",children:[n.jsx("span",{children:"Total Entries"}),n.jsx("span",{className:"font-bold",children:l==null?void 0:l.entries.toLocaleString()})]})})})]}),n.jsxs(le.Footer,{className:" z-10",children:[n.jsxs("div",{className:"elapsed-time",children:[s?"Download Process Time:":"Upload Process Time:"," ",n.jsx("span",{className:"font-bold",children:s?n.jsxs(n.Fragment,{children:[" ",h(a+r)]}):n.jsxs(n.Fragment,{children:[" ",h(a)]})})]}),n.jsx(De,{className:"bg-[#0000008c]! hover:bg-[#00000052]! ",onClick:c,children:"Confirm Done"})]})]})})},jo=({uploadComplete:e})=>{const[t,a]=d.useState(null),[s,r]=R("fileDetails",{defaultValue:null}),[i,o]=d.useState(null),[l,p]=d.useState(!1),[c,h]=d.useState(0),[g,w]=d.useState(0),[y,N]=d.useState("idle"),[F]=R("withCloudData"),[x,C]=R("selectedWeek",{defaultValue:null}),_=()=>{t&&console.log(t.name)};return d.useEffect(()=>{t&&_()},[t]),n.jsx(n.Fragment,{children:n.jsx("div",{className:"flex flex-col gap-2 text-sm w-full",children:n.jsxs("div",{className:"upload-data w-full",children:[n.jsxs("div",{className:"bg-gray-950 text-white h-[40px] flex justify-center items-center rounded-full  mb-2",children:["Selected Week: ",x?x.weekName:"Loading"]}),!F&&n.jsx("p",{className:"text-gray-300 text-sm mb-2 text-center italic",children:"No participants data found."}),n.jsx(uo,{setFileAttached:a,setFileDetails:r,setUploadStatus:N,uploadStatus:y,setCloudData:o,setTriggerImport:p,setDownloadElapsedTime:w,fileAttached:t}),n.jsx(ho,{fileAttached:t,fileDetails:s,setTriggerImport:p,setUploadStatus:N,uploadStatus:y,setFileAttached:a,setFileDetails:r,cloudData:i}),n.jsx(vo,{fileAttached:t,fileDetails:s,triggerImport:l,setUploadStatus:N,uploadStatus:y,cloudData:i,setUploadElapsedTime:h}),n.jsx(wo,{selectedWeek:x,uploadStatus:y,uploadElapsedTime:c,cloudData:i,downloadElapsedTime:g})]})})})},So=()=>{const[e,t]=R("regionalStats",{defaultValue:null});return n.jsx(n.Fragment,{children:n.jsxs("div",{children:[n.jsx("div",{className:"title text-xl font-bold text-red-300",children:"Overall Summaries"}),n.jsxs("div",{className:"flex flex-col mt-2",children:[n.jsx("div",{className:"location text-base",children:"TOTAL PARTICIPANTS:"}),n.jsx("div",{className:"regional-count text-2xl font-bold",children:e==null?void 0:e.totalParticipants.toLocaleString()})]}),n.jsxs("div",{className:"flex flex-col mt-2",children:[n.jsx("div",{className:"location text-base",children:"DAILY AVERAGE:"}),n.jsx("div",{className:"regional-count text-2xl font-bold",children:e==null?void 0:e.dailyAverage.toLocaleString()})]}),n.jsx("div",{className:"title text-xl mt-5 font-bold text-red-300",children:"Regional Statistics"}),e==null?void 0:e.regions.map(a=>n.jsxs("div",{className:"flex flex-col mt-2",children:[n.jsx("div",{className:"location text-base",children:a.location}),n.jsx("div",{className:"regional-count text-2xl font-bold",children:a.count.toLocaleString()})]},a.location))]})})},Ct=({isActive:e=!1,children:t,className:a})=>n.jsx("div",{className:`w-full flex-col justify-between relative   text-white grow ${e?"flex":"hidden"} ${a}`,children:t}),He=({position:e,children:t,className:a})=>n.jsx(n.Fragment,{children:e==="top"?n.jsx("div",{className:`top-part flex flex-col grow overflow-hidden ${a}`,children:n.jsx("div",{className:"flex bg-gradient-to-b from-gray-900 to-gray-800 h-0 grow overflow-y-scroll w-full flex-col  p-4 ",children:t})}):n.jsx("div",{className:"bottom-part flex justify-between items-center text-sm",children:n.jsx("div",{className:"flex bg-gray-800 w-full justify-between items-center  p-4 ",children:t})})}),Te=({title:e,children:t,className:a})=>n.jsx(n.Fragment,{children:n.jsxs("div",{className:`sub-panel mb-3 ${a}`,children:[n.jsx("h2",{className:"mb-2",children:e}),t]})}),ot=({children:e,onClick:t,className:a=""})=>n.jsx("button",{className:`bg-gray-600 hover:bg-gray-500 px-4 h-[40px] rounded-2xl cursor-pointer ${a}`,onClick:t,children:e});async function No(e){return await bs("participant",2e3,e)}const ko=({openModal:e})=>{const[t,a]=R("withParticipantsData",{defaultValue:!1}),s=()=>{e(!0)};return n.jsx(n.Fragment,{children:n.jsx(ot,{onClick:s,children:"Clear All Participants"})})};function Po(e){const a=[{label:"d",value:Math.floor(e/86400)},{label:"h",value:Math.floor(e%86400/3600)},{label:"m",value:Math.floor(e%3600/60)},{label:"s",value:e%60}].filter(s=>s.value>0).slice(0,2);return a.length>0?a.map(s=>`${s.value}${s.label}`).join(" "):"0s"}const _o=({setIsPresenting:e,isPresenting:t,isActiveTab:a})=>{const[s,r]=R("withParticipantsData"),[i,o]=R("regionalStats"),[l,p]=R("fileDetails",{defaultValue:null}),c=d.useRef(null),[h,g]=d.useState(!1),[w,y]=d.useState(!1),[N,F]=d.useState(!1),[x,C]=d.useState(""),[_,I]=d.useState(""),[A,v]=d.useState(!1);d.useEffect(()=>{var V;return N&&((V=c.current)==null||V.focus()),()=>{}},[N]),d.useEffect(()=>{v(x==="delete-all-participants")},[x]);const[T,P]=d.useState(!1),u=d.useRef(Date.now()),[f,m]=d.useState(0),[S,k]=d.useState(60),D=(V,de)=>{const me=V/de*100;m(me);const $=Date.now()-u.current;if(V===0){k(60);return}const W=$/(V/de)-$,ee=Math.ceil(Math.max(0,W/1e3));k(ee)},K=()=>{F(!1),_==="all"?se():M()},re=V=>{I(V),F(!0)},ae=()=>{F(!1),I("")},z=()=>{g(!1)},Z=()=>{y(!0)},L=()=>{y(!1)},se=()=>{H(),ie(),z()},M=()=>{ie(),z()},H=async()=>{alert("Attempt to clear participants in backend. Still not working. Will make it work later. This is temporary prompt. Enhancement ongoing.")},E=V=>{C(V.target.value)},ie=async()=>{P(!0),await No(D)&&(P(!1),r(!1),o(null),p(null))};return d.useEffect(()=>{f>=100&&(P(!1),r(!1),o(null),p(null))},[f]),n.jsxs(Ct,{isActive:a,children:[n.jsx(He,{position:"top",children:n.jsx(Te,{title:`${s?"Participants Overview":"Upload Data"}`,children:s?n.jsx(So,{}):n.jsx(jo,{uploadComplete:r})})}),n.jsx(He,{position:"bottom",children:s?n.jsx(ko,{openModal:g}):""}),n.jsx("div",{className:`checkpoint bg-[#220404b6] w-full h-full absolute left-0 top-0 text-black flex justify-center items-center ${!h&&"hidden"}`,children:n.jsx("div",{className:"checkpoint-content bg-white rounded-2xl p-4 text-center w-8/10",children:w?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-red-600 font-bold",children:"Clear All Participants Data:"}),n.jsx("div",{className:"text-sm mt-4",children:"Do you want to clear participants in the database too?"}),n.jsxs("div",{className:"choices mt-6 flex gap-3 justify-between w-full flex-col",children:[n.jsx("button",{className:"bg-red-400 hover:bg-red-500 p-2 px-3 rounded-xl cursor-pointer text-sm",onClick:()=>{re("app-only")},children:"No, only here on app."}),n.jsx("button",{className:"text-white bg-red-700 hover:bg-red-900 p-2 px-3 rounded-xl cursor-pointer text-sm",onClick:()=>{re("all")},children:"Yes, on database too."}),n.jsx("button",{className:"bg-gray-400 hover:bg-gray-500 p-2 px-3 rounded-xl cursor-pointer text-sm",onClick:L,children:"Go Back"})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-red-600 font-bold",children:"Clear All Participants Data:"}),n.jsx("div",{className:"text-sm mt-4",children:"Are you sure you want to delete all participants in this batch?"}),n.jsxs("div",{className:"choices mt-6 flex gap-4 justify-between",children:[n.jsx("button",{className:"bg-gray-400 hover:bg-gray-500 p-2 px-3 rounded-xl cursor-pointer text-sm",onClick:z,children:"Cancel"}),n.jsx("button",{className:"bg-red-400 hover:bg-red-500 p-2 px-3 rounded-xl cursor-pointer text-sm",onClick:Z,children:"Yes, delete."})]})]})})}),n.jsx("div",{className:`checkpoint bg-[#220404b6] w-full h-full absolute left-0 top-0 text-black flex justify-center items-center ${!T&&"hidden"}`,children:n.jsxs("div",{className:"checkpoint-content bg-white rounded-2xl p-4 text-center w-8/10",children:[n.jsx("div",{className:"text-red-600 font-bold",children:"Clearing Participants..."}),n.jsxs("div",{className:"text-sm mt-4",children:["Progress: ",f.toFixed(2),"%"]}),n.jsxs("div",{className:"text-sm mt-4",children:["Time Remaining: ",Po(S)]})]})}),n.jsx("div",{className:`checkpoint bg-[#220404b6] w-full h-full absolute left-0 top-0 text-black flex justify-center items-center ${!N&&"hidden"}`,children:n.jsxs("div",{className:"checkpoint-content bg-white rounded-2xl p-4 text-center w-8/10",children:[n.jsx("div",{className:"text-red-600 font-bold",children:"Enter Confirmation"}),n.jsxs("div",{className:"text-sm mt-4",children:["You are about to delete"," ",_==="all"?" all participants including saved in database. ":" only here saved in this app."]}),n.jsx("div",{className:"text-sm mt-2",children:'Please enter "delete-all-participants" all in lower case to confirm clearing of participants.'}),n.jsxs("div",{className:"input-container flex flex-col",children:[n.jsx("input",{type:"text",name:"clearing-passkey",autoComplete:"off","aria-label":"clearing-passkey",ref:c,className:`mt-3 h-[30px] px-4 rounded-2xl text-center text-sm  ${A?"bg-amber-200 text-red-800":"bg-gray-600 text-white"}`,id:"",onChange:V=>{E(V)}}),n.jsx("span",{className:`italic text-xs mt-1 ${A?"text-green-600 font-bold":"text-gray-500"}`,children:A?"Passkey matched":"Passkey do not match"})]}),n.jsxs("div",{className:"choices mt-6 flex gap-4 justify-between",children:[n.jsx("button",{className:"bg-gray-400 hover:bg-gray-500 p-2 px-3 rounded-xl cursor-pointer text-sm",onClick:ae,children:"Cancel"}),n.jsx("button",{className:` p-2 px-3 rounded-xl  text-sm ${A?"bg-red-400 hover:bg-red-500 cursor-pointer":"bg-gray-500 text-gray-700 cursor-not-allowed"}`,onClick:()=>{A&&K()},children:"Delete"})]})]})})]})};async function Co(e){const t={api_url:"/winner-participants",source:"client-app",destination:"cloud-server",type:"sync-winner",payload:e,method_type:"POST",status:"pending",retry_count:0,error_message:null,priority:"medium",reference_id:null,content_type:"application/json",triggered_by:"system",is_test:!1,next_retry_at:null,headers:{},response_body:null,duration:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};try{return await ct("syncCloud",t),console.log(" Winner participant synced to queue:",t),!0}catch(a){return console.error(" Failed to queue winner participant:",a),!1}}const Eo={winner_status:!1};async function fs(e,t){const a=await Re();try{const s=a.transaction("winnerParticipant","readwrite").objectStore("winnerParticipant"),{is_drawn:r,...i}=e,o={is_drawn:!0,draw_date:new Date().toISOString(),...Eo,...i,winner_type:t};return await s.add(o),await Co(o)&&console.log("Winner participant added to cloud sync queue..."),console.log(`Winner participant added: ${e.full_name} with type ${t}`),!0}catch(s){return console.error("Error adding winner participant:",s),!1}}async function Ao(e){const t=await Re();try{const a=t.transaction("participant","readwrite"),s=a.objectStore("participant"),i=await s.index("raffle_code").get(e);if(i)i.is_drawn="true",await s.put(i),console.log(`Participant with raffle_code ${e} marked as drawn.`);else return console.warn(`No participant found with raffle_code ${e}`),!1;return await a.done,!0}catch(a){return console.error("Error updating winner participant:",a),!1}}const To=({isActiveTab:e})=>{var Ze,bn,yn,vn,wn,jn,Sn,Nn,kn,Pn,_n,Cn,En,An,Tn,Rn;const[t,a]=R("favoredRegion",{defaultValue:void 0}),{winnerRecords:s,setWinner:r,setBackupWinner:i,resetWinners:o,getFilledWinners:l}=ms(),[p,c]=R("fileDetails"),[h,g]=R("startDraw",{defaultValue:!1}),[w,y]=R("withParticipantsData"),[N,F]=d.useState(!1),[x,C]=d.useState(!0),[_,I]=d.useState(!1),[A]=R("presentingStatus"),[v]=R("presentingView");d.useEffect(()=>{console.log("Generating winner start...")},[N]);const[T,P]=d.useState(!1),[u,f]=d.useState(!1),[m,S]=d.useState(!1),[k,D]=d.useState(!1),[K,re]=d.useState(!0),[ae,z]=d.useState(!0),[Z,L]=d.useState(!0),se=(fe,be)=>{const ye=be==="on";switch(fe){case 1:f(ye);break;case 2:S(ye);break;case 3:D(ye);break;default:P(ye);break}},M=async(fe="primary",be=0)=>{if(console.log("Attempting: ",fe," ",be),Q(!1),E("idle"),V(!1),fe==="primary")se(0,"on"),J(t?`Picking Primary Winner from ${t}...`:"Picking Primary Winner...");else{se(be+1,"on");const et=be===0?"1st":be===1?"2nd":"3rd";J(t?`Picking ${et} Backup Winner from ${t}...`:`Picking ${et} Backup Winner...`)}const ye=await _e(fe,t);ye?(fe==="primary"?(r(ye),console.log("Setting Winner"),ne(1)):(console.log("Setting Backup Winner"),(be===0||be===1||be===2)&&(i(be,ye),ne(be+2))),g(!0)):console.warn("Winner generation failed, draw not started")},[H,E]=R("slotCodeStatus",{defaultValue:"idle"}),[ie,V]=R("revealWinner",{defaultValue:!1}),[de,me]=R("refreshTable",{defaultValue:0}),[q,$]=R("showWinnerNth",{defaultValue:0}),[oe,W]=R("winners"),[ee,ue]=d.useState(!1),[X,Q]=R("isRevealed"),[Y,U]=R("revealWinner01",{defaultValue:!1}),[j,B]=R("revealWinner02",{defaultValue:!1}),[ve,Se]=R("revealWinner03",{defaultValue:!1}),[je,we]=R("revealWinner04",{defaultValue:!1}),[he,pe]=R("slotCode",{defaultValue:"??????????"}),[te,J]=d.useState("Not Started Yet"),ke=fe=>{const be=setTimeout(()=>{$(fe-1),E("roll"),clearInterval(be)},1e3),ye=setTimeout(()=>{switch(fe){case 1:U(!0),se(0,"off"),J(t?`Primary Winner Picked from ${t}`:"Primary Winner Picked"),re(!1);break;case 2:B(!0),se(1,"off"),J(t?`1st Backup Winner Picked from ${t}`:"1st Backup Winner Picked"),z(!1);break;case 3:Se(!0),se(2,"off"),J(t?`2nd Backup Winner Picked from ${t}`:"2nd Backup Winner Picked"),L(!1);break;case 4:we(!0),se(3,"off"),J(t?`3rd Backup Winner Picked from ${t}`:"3rd Backup Winner Picked");break}V(!0),me(et=>et+1),clearInterval(ye)},3e3)},ne=fe=>{ke(fe)},xe=()=>{const fe=te;J("Resetting Machine..."),E("idle"),V(!1),Q(!1);const be=setTimeout(()=>{J(fe),clearTimeout(be)},1e3)},Le=async(fe,be)=>{try{return await fs(fe,be)?await Ao(fe.raffle_code)?(console.log("Success saving winner: ",fe.full_name," with winner type of ",be),!0):(console.error("Failed to update winner:",fe.full_name),!1):(console.error("Failed to save winner:",fe.full_name),!1)}catch(ye){return console.error("Error saving winner:",fe.full_name,ye),!1}},_e=async(fe="primary",be)=>{console.log("Picking Random Participant");try{const ye=await ya(be??void 0);return ye&&(Le(ye,fe),console.log(ye),C(!0)),ye}catch(ye){return C(!1),xe(),I(!0),console.error("Error picking random participant:",ye),null}},$e=()=>{ue(!0),xe(),J("Clearing Winners...");const fe=setTimeout(()=>{ue(!1),W(null),o(),U(!1),B(!1),Se(!1),we(!1),re(!0),z(!0),L(!0),clearTimeout(fe)},1e3)};return d.useEffect(()=>{if(A!=="presenting"&&v!=="raffle-draw"){J("Not Started Yet");return}ee||J(t?`Picking from ${t}`:"Picking from All Philippines")},[A,v,t,ee]),n.jsx(n.Fragment,{children:n.jsxs(Ct,{isActive:e,className:"",children:[n.jsxs(He,{position:"top",className:"relative !px-0 !m-0 !bg-orange-200",children:[n.jsx(Te,{title:"Raffle Draw Status",className:"sticky top-0 bg-linear-to-b from-gray-900 via-[#101828a6] to-[#00000000] py-4 pb-11 !mb-0",children:n.jsx("div",{className:"raffle-draw-status bg-[#030712e8] w-full rounded-xl h-[80px] border-gray-600 border-2 flex items-center justify-center text-lg font-[courier] font-bold text-amber-200 text-shadow-amber-800 text-shadow-sm line-clamp-2 px-4 -mb-4",children:n.jsx("span",{className:"animate-pulse text-center break-words",children:te})})}),n.jsx(Te,{title:"Winner",className:"gap-3 flex flex-col",children:n.jsx("div",{className:"grid w-full",children:n.jsx("div",{className:"participant-card text-sm w-full bg-gray-700 p-3 rounded-xl ",children:T?n.jsx(n.Fragment,{children:n.jsxs("div",{className:"h-[50px] w-full text-center flex justify-center items-center",children:["Loading... Please wait."," "]})}):n.jsx(n.Fragment,{children:l().primary&&Y?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"participant-name text-xl",title:(Ze=s.primary)==null?void 0:Ze.full_name_raw,children:(bn=s.primary)==null?void 0:bn.full_name}),n.jsxs("div",{className:"participant-details flex w-full justify-between",children:[n.jsx("div",{className:"participant-location",children:(yn=s.primary)==null?void 0:yn.regional_location}),n.jsx("div",{className:"participant-code font-[courier] font-bold tracking-widest",children:(vn=s.primary)==null?void 0:vn.raffle_code})]})]}):n.jsx("button",{className:"cursor-pointer hover:bg-amber-300 rounded-2xl text-black w-full p-3 bg-amber-400",onClick:()=>{M()},children:"Start Draw"})})})})}),l().backups&&l().backups.length>0&&n.jsxs(Te,{title:"Backup Winners",className:"gap-3 flex flex-col",children:[n.jsx("div",{className:"grid w-full gap-3",children:n.jsx("div",{className:"participant-card text-sm w-full bg-gray-700 p-3 rounded-xl relative overflow-hidden",children:u?n.jsx(n.Fragment,{children:n.jsxs("div",{className:"h-[50px] w-full text-center flex justify-center items-center",children:["Loading... Please wait."," "]})}):n.jsx(n.Fragment,{children:j?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"participant-name text-xl",title:(wn=s.backups[0])==null?void 0:wn.full_name_raw,children:(jn=s.backups[0])==null?void 0:jn.full_name}),n.jsxs("div",{className:"participant-details flex w-full justify-between",children:[n.jsx("div",{className:"participant-location",children:(Sn=s.backups[0])==null?void 0:Sn.regional_location}),n.jsx("div",{className:"participant-code font-[courier] font-bold tracking-widest",children:(Nn=s.backups[0])==null?void 0:Nn.raffle_code})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"cursor-pointer hover:bg-amber-300 rounded-2xl text-black w-full p-3 bg-amber-400",onClick:()=>{console.log("Raffling backup winner #1"),M("backup",0)},children:"Raffle First Backup Winner"}),K&&n.jsxs("div",{className:"button-locker bg-[#6e0c0cce] absolute top-0 w-full h-full left-0 flex justify-center items-center gap-2",children:[n.jsx(ge,{icon:Ft,className:"text-lg"}),n.jsx("span",{className:"font-bold",children:"Unlock with Previous Button"})]})]})})})}),n.jsx("div",{className:"grid w-full gap-3",children:n.jsx("div",{className:"participant-card text-sm w-full bg-gray-700 p-3 rounded-xl relative",children:m?n.jsxs("div",{className:"h-[50px] w-full text-center flex justify-center items-center",children:["Loading... Please wait."," "]}):n.jsx(n.Fragment,{children:ve?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"participant-name text-xl",title:(kn=s.backups[1])==null?void 0:kn.full_name_raw,children:(Pn=s.backups[1])==null?void 0:Pn.full_name}),n.jsxs("div",{className:"participant-details flex w-full justify-between",children:[n.jsx("div",{className:"participant-location",children:(_n=s.backups[1])==null?void 0:_n.regional_location}),n.jsx("div",{className:"participant-code font-[courier] font-bold tracking-widest",children:(Cn=s.backups[1])==null?void 0:Cn.raffle_code})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"cursor-pointer hover:bg-amber-300 rounded-2xl text-black w-full p-3 bg-amber-400",onClick:()=>{console.log("Raffling backup winner #2"),M("backup",1)},children:"Raffle Second Backup Winner"}),ae&&n.jsxs("div",{className:"button-locker bg-[#6e0c0cce] absolute top-0 w-full h-full left-0 flex justify-center items-center gap-2",children:[n.jsx(ge,{icon:Ft,className:"text-lg"}),n.jsx("span",{className:"font-bold",children:"Unlock with Previous Button"})]})]})})})}),n.jsx("div",{className:"grid w-full gap-3",children:n.jsx("div",{className:"participant-card text-sm w-full bg-gray-700 p-3 rounded-xl relative",children:k?n.jsx(n.Fragment,{children:n.jsxs("div",{className:"h-[50px] w-full text-center flex justify-center items-center",children:["Loading... Please wait."," "]})}):n.jsx(n.Fragment,{children:je?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"participant-name text-xl",title:(En=s.backups[2])==null?void 0:En.full_name_raw,children:(An=s.backups[2])==null?void 0:An.full_name}),n.jsxs("div",{className:"participant-details flex w-full justify-between",children:[n.jsx("div",{className:"participant-location",children:(Tn=s.backups[2])==null?void 0:Tn.regional_location}),n.jsx("div",{className:"participant-code font-[courier] font-bold tracking-widest",children:(Rn=s.backups[2])==null?void 0:Rn.raffle_code})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"cursor-pointer hover:bg-amber-300 rounded-2xl text-black w-full p-3 bg-amber-400",onClick:()=>{console.log("Raffling backup winner #3"),M("backup",2)},children:"Raffle Third Backup Winner"}),Z&&n.jsxs("div",{className:"button-locker bg-[#6e0c0cce] absolute top-0 w-full h-full left-0 flex justify-center items-center gap-2",children:[n.jsx(ge,{icon:Ft,className:"text-lg"}),n.jsx("span",{className:"font-bold",children:"Unlock with Previous Button"})]})]})})})})]}),n.jsx(Te,{title:"Proclaimed Winner"}),n.jsx("div",{className:`checkpoint bg-[#220404b6] w-full h-full absolute left-0 top-0 text-white flex justify-center items-center ${!_&&"hidden"}`,children:n.jsxs("div",{className:"checkpoint-content bg-red-900 rounded-2xl p-4 text-center w-8/10",children:[n.jsx("div",{children:"No Participant Available"}),t!==void 0?n.jsxs("div",{className:"text-sm mt-4",children:["No winners can be raffled anymore in the specified region.",n.jsx("br",{}),"[",t,"]",n.jsx("br",{})," Please retry with different region.",n.jsx("div",{className:"button-container mt-4",children:n.jsx("button",{onClick:()=>{I(!1)},className:"bg-black hover:bg-red-950 text-white p-3 cursor-pointer rounded-2xl w-full",children:"Okay"})})]}):n.jsxs("div",{className:"text-sm mt-4",children:["No more available participants to draw. ",n.jsx("br",{}),"Please add more participants",n.jsx("div",{className:"button-container mt-4",children:n.jsx("button",{onClick:()=>{I(!1)},className:"bg-black hover:bg-red-950 text-white p-3 cursor-pointer rounded-2xl w-full",children:"Okay"})})]})]})})]}),n.jsxs(He,{position:"bottom",children:[n.jsx(ot,{onClick:xe,children:"Reset Machine"}),n.jsx(ot,{onClick:$e,children:"Clear Winners"})]}),n.jsx("div",{className:`checkpoint bg-[#220404b6] w-full h-full absolute left-0 top-0 text-white flex justify-center items-center ${A==="presenting"&&v==="raffle-draw"&&w&&"hidden"}`,children:n.jsxs("div",{className:"checkpoint-content bg-red-900 rounded-2xl p-4 text-center w-8/10",children:[n.jsx("div",{children:"Raffle Controls Disabled"}),n.jsx("div",{className:"text-sm mt-4",children:A!=="presenting"?n.jsx(n.Fragment,{children:"Please start presentation and switch to raffle view"}):v!=="raffle-draw"?n.jsx(n.Fragment,{children:"Please switch view to raffle draw."}):n.jsxs(n.Fragment,{children:["No Data available for raffle. ",n.jsx("br",{})," Please upload data first."," "]})})]})})]})})},pt=({children:e,onClick:t,className:a="",thumbnailUrl:s=""})=>n.jsx("div",{className:`view-option rounded-md aspect-video flex justify-center items-end text-sm bg-cover bg-center transition-all duration-500 ${a}`,style:{backgroundImage:s?`url(${s})`:void 0},onClick:t,children:n.jsx("div",{className:"label",children:e})}),fa="/assets/ScreenSaverThumbnail-feZ2nyR4.png",Lt="/assets/IntroOnlyThumnail-DWOHjF7t.png",da="/assets/ParticipantsOverviewThumbnail-CiBylO9R.png",ha="/assets/RaffleDrawThumbnail-cguxEmwu.png",Ro=({isActiveTab:e})=>{const[t,a]=R("presentingView",{defaultValue:"intro"}),[s,r]=R("lockViewCards",{defaultValue:!1}),[i,o]=R("transitionActive",{defaultValue:!1}),l=()=>{o(!0)},p=F=>{if(t!==F){l();const x=setTimeout(()=>{a(F),clearTimeout(x)},3e3)}},[c,h]=d.useState(Lt),g=()=>{p("intro"),h(Lt)},w=()=>{p("overview"),h(da)},y=()=>{p("raffle-draw"),h(ha)},N=()=>{p("screen-saver"),h(fa)};return n.jsx(n.Fragment,{children:n.jsxs(Ct,{isActive:e,children:[n.jsxs(He,{position:"top",children:[n.jsx(Te,{title:"Presentation Preview",children:n.jsx("div",{className:"view-options flex  gap-2 justify-center w-full",children:n.jsx("div",{className:"view-preview  rounded-md aspect-video flex justify-center items-end text-sm  w-[80%] bg-cover bg-center transition-all duration-500",style:{backgroundImage:`url(${c})`},children:n.jsx("div",{className:"label",children:"Raffle Winner"})})})}),n.jsx(Te,{title:"Choose Views",children:n.jsxs("div",{className:"view-options grid grid-cols-2 gap-2 relative",children:[n.jsx(pt,{onClick:g,thumbnailUrl:Lt,children:"Intro Only"}),n.jsx(pt,{onClick:N,thumbnailUrl:fa,children:"Screen Saver"}),n.jsxs(pt,{onClick:w,thumbnailUrl:da,children:["Participants ",n.jsx("br",{})," Overview"]}),n.jsx(pt,{onClick:y,thumbnailUrl:ha,children:"Raffle Draw"}),n.jsx("div",{className:`loading-wall absolute top-0 left-0 bg-[#000000be] h-full w-full flex justify-center items-center text-white rounded-lg transition-all duration-500 ${s?"z-30 opacity-100":"-z-10 opacity-0"}`,children:"Loading View... Please wait.."})]})})]}),n.jsx(He,{position:"bottom",children:n.jsx(ot,{children:"Pause Presentation"})})]})})};async function pa(e,t="data.csv",a=[]){if(e.length===0)return console.warn("No entries to export."),!1;const s=Object.keys(e[0]).filter(p=>!a.includes(p)),r=gn.unparse({fields:s,data:e.map(p=>s.map(c=>p[c]??""))}),i=new Blob([r],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(i),l=document.createElement("a");return l.href=o,l.setAttribute("download",t),document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(o),!0}const Do=()=>{const[e,t]=d.useState(!1),[a,s]=d.useState("Primary Winners"),[r,i]=d.useState(!1),[o,l]=d.useState("Backup Winners"),[p,c]=R("winnersDataAvailable",{defaultValue:!1}),[h]=R("refreshTable"),[g,w]=d.useState(!1),[y,N]=d.useState(!1),F=async()=>{if(!g)return;t(!0),s("Processing CSV Data");const _=await bt("primary"),I=["is_drawn","winner_status","is_archived","participant_batch_id"],v=`KBRDS_Primary_Winners_${new Date(Date.now()+8*60*60*1e3).toISOString().replace(/[-:]/g,"_").replace("T","__").split(".")[0]}.csv`;_&&await pa(_,v,I)&&(t(!1),s("Primary Winners"))},x=async()=>{if(!y)return;i(!0),l("Processing CSV Data");const _=await bt("backup"),I=["is_drawn","winner_status","is_archived","participant_batch_id"],v=`KBRDS_Backup_Winners_${new Date(Date.now()+8*60*60*1e3).toISOString().replace(/[-:]/g,"_").replace("T","__").split(".")[0]}.csv`;_&&await pa(_,v,I)&&(i(!1),l("Backup Winners"))},C=async()=>{const _=await xt("primary"),I=await xt("backup");!_&&!I?c(!1):(_&&w(!0),I&&N(!0),c(!0))};return d.useEffect(()=>{C()},[h]),d.useEffect(()=>{C()},[]),n.jsxs(Te,{title:"Export Winner Data",className:"pt-4 border-t-2 border-solid border-gray-300 mt-4",children:[n.jsx("p",{className:"text-sm",children:"Choose winner type to download:"}),p?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[n.jsx("div",{className:`button-1  p-3 text-center rounded-2xl aspect-video flex justify-center items-center px-5   ${g?e?"disabled bg-red-800 cursor-not-allowed":"bg-emerald-800 hover:bg-emerald-700 cursor-pointer":"bg-gray-500 text-black cursor-not-allowed"}`,onClick:F,children:n.jsx("div",{className:"text-base",children:g?a:"No Data for Primary Winners"})}),n.jsx("div",{className:`button-1  p-3 text-center rounded-2xl aspect-video flex justify-center items-center px-5   ${y?r?"disabled bg-red-800 cursor-not-allowed":"bg-emerald-800 hover:bg-emerald-700 cursor-pointer":"bg-gray-500 text-black cursor-not-allowed"}`,onClick:x,children:n.jsx("div",{className:"text-base",children:y?o:"No Data for Backup Winners"})})]}),n.jsx("p",{className:"text-sm italic mt-3",children:"Data are updated in real time."})]}):n.jsxs("div",{className:"mt-6 text-red-400",children:["No data available for winners. ",n.jsx("br",{}),"Start raffle to have winners."]})]})},Io=({isActiveTab:e})=>{const[t,a]=d.useState(null),[s]=R("regionalStats"),[r,i]=R("favoredRegion",{defaultValue:void 0}),o=async(c,h)=>{await fs(c,h)&&console.log("Success saving winner: ",c.full_name," with winner type of ",h)},l=(c,h)=>{const g=c.target.value;h(g==="undefined"?void 0:g)},p=async(c="primary",h)=>{console.log("Picking Random Participant");const g=await ya(h??void 0);g&&(a(g),o(g,c),console.log(g))};return n.jsx(Ct,{isActive:e,children:n.jsxs(He,{position:"top",children:[n.jsxs(Te,{title:"Regional Picking Parameter",children:[n.jsx("p",{className:"text-sm",children:"Choose Region to choose winner from"}),s&&(s==null?void 0:s.regions.length)>0?n.jsxs(n.Fragment,{children:[n.jsx("label",{htmlFor:"region-select",className:"block text-sm font-medium",children:"Select Region"}),n.jsxs("select",{name:"region-select",id:"region-select",className:"w-full bg-gray-600 p-2 mt-2 rounded-2xl",value:r??"undefined",onChange:c=>l(c,i),children:[n.jsx("option",{value:"undefined",children:"National (Whole Philippines)"}),s==null?void 0:s.regions.map((c,h)=>n.jsx("option",{value:c.location,className:"capitalize first-letter:uppercase",children:c.location},h))]}),n.jsx("p",{className:"text-sm mt-1 italic mb-4",children:"Resets to 'all regions' every restart of application."}),n.jsxs("div",{className:"mt-5 p-3 rounded-2xl bg-blue-800 text-white",children:[n.jsx("div",{className:"text-sm",children:"Confirmed Favored Location: "}),n.jsx("div",{className:"text-lg",children:r??"National (Whole Philippines)"})]})]}):n.jsx("div",{className:"mt-6 text-red-400",children:"No data available for regional stats"})]}),n.jsx(Do,{}),n.jsx(Te,{title:"Testing Buttons",className:"hidden",children:n.jsxs("div",{className:"button-bar flex justify-end",children:[n.jsx(ot,{className:"self-end ml-auto text-sm px-2",onClick:p,children:"Pick Random Participant"}),n.jsx("p",{children:"Random Participant Picked: "})]})})]})})},Oo=({controlPanelOpen:e,setIsPresenting:t,isPresenting:a})=>{const[s,r]=d.useState("overview"),[i,o]=d.useState(!1);return n.jsxs("aside",{className:`side-panel bg-gray-800 w-[400px]  flex-col text-white relative ${e?"flex":"hidden"}`,children:[n.jsx(to,{isPresenting:a,setIsPresenting:t}),n.jsx(no,{setActiveTab:r,activeTab:s}),n.jsx(_o,{setIsPresenting:t,isPresenting:a,isActiveTab:s==="overview"}),n.jsx(To,{isActiveTab:s==="raffle"}),n.jsx(Ro,{isActiveTab:s==="presentation"}),n.jsx(Io,{isActiveTab:s==="configure"})]})},Fo=()=>{const[e,t]=d.useState(!1),a=()=>{t(s=>!s)};return n.jsx(n.Fragment,{children:n.jsxs("div",{className:"pagination-settings h-full relative flex items-center justify-center",children:[n.jsx("button",{type:"button",className:"pagination-settings-button text-base cursor-pointer flex items-center justify-center w-[30px] h-[30px] rounded-full bg-orange-200 hover:bg-orange-300 active:bg-orange-400 transition-all duration-200 ease-in-out","aria-label":"Pagination Settings",onClick:a,children:n.jsx(ge,{icon:qi,className:"text-gray-600"})}),n.jsxs("div",{className:`bg-orange-800 text-white h-[80px] w-[150px] items-center justify-center px-2  absolute top-0 left-1/2 z-40 -translate-y-[calc(100%_-_10px)] -translate-x-1/2 rounded-lg ${e?"flex":"hidden"}`,children:["Go to page"," ",n.jsx("input",{className:"ml-2 bg-white w-[30px] h-[20px] rounded-lg text-black text-center",type:"text","aria-label":"Page Number",defaultValue:"1"})]})]})})},Lo=({page:e,isActive:t,onClick:a})=>e==="..."?n.jsx("span",{className:"px-2 select-none",children:"..."}):n.jsx("span",{className:`cursor-pointer px-2 hover:text-white!  ${t?"active font-bold text-white! bg-[#914f03] text-base!":"text-gray-700!"}`,onClick:()=>a(Number(e)),children:e}),Mo=()=>{const e=ba(),t=jt(),a=new URLSearchParams(t.search),[s,r]=d.useState(1),[i,o]=d.useState(10),[l,p]=d.useState(1),[c]=R("withParticipantsData",{defaultValue:!1}),[h]=R("fileDetails"),[g,w]=d.useState("main"),y=()=>{const C=new URLSearchParams(t.search).get("filter")||"main";return console.log("ACTIVE TAB: >>>>>",C),w(C),C};d.useEffect(()=>{y()},[t.search]);const N=x=>{x<1||x>l||(a.set("page",x.toString()),a.set("pageSize",i.toString()),e({search:a.toString()}))};d.useEffect(()=>{const x=parseInt(a.get("page")||"1",10),C=parseInt(a.get("pageSize")||"250",10);if(r(x),o(C),h){const _=Math.ceil(h.entries/C);p(_)}else p(1)},[a,h]);const F=()=>{const x=[];if(l<=7)for(let C=1;C<=l;C++)x.push(C);else s<=4?x.push(1,2,3,4,5,"...",l):s>=l-3?x.push(1,"...",l-4,l-3,l-2,l-1,l):x.push(1,"...",s-1,s,s+1,"...",l);return x};return n.jsxs("div",{className:`pagination bg-orange-200 rounded-full text-xs flex-row items-center h-[40px] ${c&&g=="main"?"flex":"hidden"}`,children:[n.jsx("button",{className:"hover:bg-orange-300 px-2 ps-3 h-[40px] rounded-r-lg cursor-pointer text-sm aspect-square overflow-hidden rounded-l-full","aria-label":"Previous Page",onClick:()=>N(s-1),disabled:s===1,children:n.jsx(ge,{icon:ls})}),n.jsxs("div",{className:"pages flex flex-row items-center px-2",children:[F().map((x,C)=>n.jsx(Lo,{page:x,isActive:s===x,onClick:N},C)),n.jsx(Fo,{})]}),n.jsx("button",{type:"button",className:"hover:bg-orange-300 px-2 pe-3 h-[40px] rounded-l-lg cursor-pointer text-sm aspect-square overflow-hidden rounded-r-full","aria-label":"Next Page",onClick:()=>N(s+1),disabled:s===l,children:n.jsx(ge,{icon:cs})})]})},Wo=(e,t)=>{const a=s=>{const r=s.getFullYear().toString().slice(-2),i=(s.getMonth()+1).toString().padStart(2,"0"),o=s.getDate().toString().padStart(2,"0");return`${r}${i}${o}`};return`${a(e)}_${a(t)}`},zo=(e,t)=>{const a={month:"short",day:"numeric"},s=e.toLocaleDateString("en-US",a),i=t.getMonth()===e.getMonth()?{day:"numeric"}:{month:"short",day:"numeric"},o=t.toLocaleDateString("en-US",i),l=t.getFullYear();return`${s} to ${o}, ${l}`};function Bo(e){const t=new Date,a=t.getDay(),s=a===0?-6:1-a,r=new Date(t);r.setDate(t.getDate()+s),r.setHours(0,0,0,0);const i=new Date(r);i.setDate(r.getDate()+6),i.setHours(23,59,59,999);const o=zo(r,i),l=Wo(r,i);return{startingDate:r,endingDate:i,weekName:o,weekCode:l}}async function $o(e){const t={api_url:`/winner-participants/${e}`,source:"client-app",destination:"cloud-server",type:"sync-remove-winner",payload:null,method_type:"DELETE",status:"pending",retry_count:0,error_message:null,priority:"medium",reference_id:null,content_type:"application/json",triggered_by:"system",is_test:!1,next_retry_at:null,headers:{},response_body:null,duration:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};try{return await ct("syncCloud",t),console.log(" Winner participant removal synced to queue:",t),!0}catch(a){return console.error(" Failed to queue winner participant removal:",a),!1}}async function Uo(e,t){const a=await Re();try{const s=a.transaction("winnerParticipant","readwrite"),r=s.objectStore("winnerParticipant"),i=await r.index("id_entry").getKey(e);if(!i)return console.warn(`No winner participant found with id_entry: ${e}`),!1;const o=await r.get(i);return!o||o.raffle_code!==t?(console.warn(`Raffle code does not match or participant not found for id_entry: ${e}`),!1):(await r.delete(i),await s.done,console.log(`Winner participant removed with id_entry: ${e} and raffle_code: ${t}`),await $o(o.raffle_code),!0)}catch(s){return console.error("Error removing winner participant:",s),!1}}const Vo=({})=>{const e=async(A,v)=>{const T=await Uo(v,A);T&&i(P=>P+1),console.log("Deletion: ",T)},t=jt(),[a,s]=R("withParticipantsData",{defaultValue:!1}),[r,i]=R("refreshTable",{defaultValue:0}),[o,l]=d.useState(null),[p,c]=d.useState(!1),[h,g]=d.useState("main"),[w,y]=d.useState(1),[N,F]=d.useState(250),x=()=>{const v=new URLSearchParams(t.search).get("filter")||"main";return console.log("ACTIVE TAB: >>>>>",v),g(v),v},C=()=>{const A=new URLSearchParams(t.search),v=parseInt(A.get("page")||"1",10),T=parseInt(A.get("pageSize")||"250",10);return y(v),F(T),{page:v,size:T}},_=(A,v)=>{e(A,v),I()},I=async()=>{c(!0);const A=x();console.log("Fetching data..."),c(!0);const{page:v,size:T}=C();try{let P=[];A==="winners"?(console.log("Winner table loading..."),await xt("primary")?P=await bt("primary")||[]:console.log("No primary winners found.")):A==="backupwinners"?(console.log("Backup winners table loading..."),await xt("backup")?P=await bt("backup")||[]:console.log("No backup winners found.")):(console.log("Main table loading..."),P=await ys("WEEK-2025-06",v,T)||[]),l(P)}catch(P){console.error("Error fetching data:",P),l([])}finally{c(!1)}};return d.useEffect(()=>{I()},[a]),d.useEffect(()=>{I()},[r]),d.useEffect(()=>{c(!0),a?I():c(!1)},[]),d.useEffect(()=>{I()},[t.search]),n.jsx(n.Fragment,{children:o&&o.length>0&&!p?n.jsx("div",{className:"participants-table grow overflow-y-auto h-[500px]",children:n.jsxs("table",{className:"min-w-full table-fixed border-separate border-spacing-0",children:[n.jsx("thead",{className:"bg-[#bf4759] text-white sticky top-0 z-10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-2 border-b w-[100px] text-center",children:"#:"}),n.jsx("th",{className:"p-2 text-center border-b w-[150px]",children:"Entry No:"}),n.jsx("th",{className:"p-2 text-left border-b w-[400px]",children:"Participant's Name"}),n.jsx("th",{className:"p-2 border-b text-center",children:"Code"}),n.jsx("th",{className:"p-2 border-b w-[200px] text-center",children:"Location"}),h!=="main"?n.jsxs(n.Fragment,{children:[n.jsx("th",{className:"p-2 text-left border-b w-[160px]",children:"Draw Date"}),n.jsx("th",{className:"p-2 text-left border-b",children:"Controls"})]}):n.jsx(n.Fragment,{children:n.jsx("th",{className:"p-2 text-left border-b",children:"Is Drawn"})})]})}),n.jsx("tbody",{className:"",children:o==null?void 0:o.map((A,v)=>{var T;return n.jsxs("tr",{className:"",children:[n.jsx("td",{className:"text-center",children:((w-1)*N+v+1).toLocaleString()}),n.jsxs("td",{className:"text-center font-mono",children:["#",(T=A.id_entry)==null?void 0:T.toString().padStart(8,"0").replace(/(\d{2})(\d{3})(\d{3})/,"$1-$2-$3")]}),n.jsx("td",{className:"",title:h!=="main"?`${A.full_name_raw}`:void 0,children:A.full_name||A.full_name_cleaned}),n.jsx("td",{className:"text-base font-bold",children:A.raffle_code}),n.jsx("td",{className:"text-center",children:A.regional_location}),h!=="main"?n.jsxs(n.Fragment,{children:[n.jsx("td",{children:new Date(A.draw_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit",weekday:"short"})}),n.jsx("td",{className:"",children:n.jsx("button",{onClick:()=>{_(A.raffle_code,A.id_entry)},className:"bg-red-700 text-white p-1 px-2 rounded-lg hover:bg-red-600 cursor-pointer",children:"Remove"})})]}):n.jsx(n.Fragment,{children:n.jsx("td",{children:A.is_drawn!=="false"&&""})})]},`participant-${A.id_entry}-${v}`)})})]})}):n.jsx(n.Fragment,{children:n.jsx("div",{className:"participants-table grow overflow-y-auto h-[500px] drop-shadow-none flex bg-gray-300 justify-center items-center text-center",children:p?n.jsxs("div",{className:"flex flex-col justify-center gap-4 items-center",children:[n.jsx("div",{className:"animate-spin bg-gray-200 h-[50px] w-[50px] aspect-square rounded-full relative",children:n.jsx("span",{className:"bg-gray-600 h-[10px] w-[10px] block rounded-full absolute top-1/2 left-[5px]"})}),"Loading New Data. Please wait..."]}):n.jsxs(n.Fragment,{children:["No data available... ",n.jsx("br",{}),"Upload new data to continue"]})})})})},qo=()=>{const e=jt(),[t,a]=d.useState(0),[s,r]=d.useState(1),[i,o]=d.useState(250),[l,p]=d.useState(1),[c,h]=d.useState(250),[g]=R("withParticipantsData",{defaultValue:!1}),w=()=>{const F=new URLSearchParams(e.search),x=parseInt(F.get("page")||"1",10),C=parseInt(F.get("pageSize")||"250",10);return{page:x,size:C}},y=()=>{t>i*s?h(i*s):h(t),s===1?(p(1),h(250)):p((s-1)*i+1)};d.useEffect(()=>{const{page:F,size:x}=w();r(F),o(x)},[e.search]),d.useEffect(()=>{y()},[s,i]);const[N]=R("fileDetails");return d.useEffect(()=>{N&&a(N==null?void 0:N.entries);const{page:F,size:x}=w();r(F),o(x)},[N]),d.useEffect(()=>{N&&a(N==null?void 0:N.entries);const{page:F,size:x}=w();r(F),o(x)},[]),n.jsx(n.Fragment,{children:n.jsxs("div",{className:`text-sm  items-center gap-2 ${g?"flex":"hidden"}`,children:["Showing Entries:",n.jsxs("b",{className:"flex gap-2 items-baseline justify-center",children:["From"," ",n.jsx("span",{className:"bg-gray-700 min-w-[40px] flex  text-white p-2 py-1 rounded-md justify-center",children:l.toLocaleString()})," ","to"," ",n.jsx("span",{className:"bg-gray-700 min-w-[40px] flex  text-white p-2 py-1 rounded-md justify-center",children:c.toLocaleString()})," "]})]})})};async function ds(){const s=(await Re()).transaction("syncCloud","readonly").objectStore("syncCloud").index("status_createdAt"),r=["pending","in-progress","failed","retrying","cancelled"];let i=null,o=1/0;for(const l of r){const p=IDBKeyRange.bound([l,""],[l,""]),c=await s.openCursor(p,"next");if(c){const h=c.value,g=new Date(h.createdAt).getTime();g<o&&(i=h,o=g)}}return i}async function xn(e){const r=await(await Re()).transaction("syncCloud","readonly").objectStore("syncCloud").get(e);return r&&typeof r.id=="number"?r:null}async function Xe(e,t){const s=(await Re()).transaction("syncCloud","readwrite"),r=s.objectStore("syncCloud"),i=await r.get(e);if(!i)throw new Error(`No syncCloud entry found with ID ${e}`);const o={...i,...t,updatedAt:new Date().toISOString()};await r.put(o),await s.done}async function Ho(e,t){var s,r;let a;if(e){if(a=await xn(e),!a)return console.log(` Sync Queue Item #${e} not found`),!1}else if(a=await ds(),!a)return console.log(" No pending down-sync items."),!1;try{console.log(` Pulling from: ${a.api_url}...`);const i=a.method_type.toLowerCase(),o={headers:{"Content-Type":a.content_type||"application/json",...a.headers}},l=await lt.request({url:a.api_url,method:i,...o}),p=l.data;return console.log("RESPONSE FROM SERVER:",p),l.status>=200&&l.status<300?(await t(p),await Xe(a.id,{status:"completed",response_body:p,error_message:null}),console.log(` Down-sync completed for ID: ${a.id}`),!0):(await Xe(a.id,{status:"failed",response_body:p,error_message:null}),!1)}catch(i){return console.error(" Down-sync error:",i),await Xe(a.id,{status:"failed",error_message:((r=(s=i==null?void 0:i.response)==null?void 0:s.data)==null?void 0:r.error)||i.message||"Unknown error"}),!1}}async function Yo(e){var a,s;let t;if(e){if(t=await xn(e),!t)return console.log(` Sync Queue Item #${e} not found`),!1}else if(t=await ds(),!t)return console.log(" No pending sync items."),!1;try{console.log(` Syncing to: ${t.api_url}...`);const r=t.method_type.toLowerCase(),i={headers:{"Content-Type":t.content_type||"application/json",...t.headers}},o=await lt.request({url:t.api_url,method:r,data:r==="get"||r==="delete"?void 0:{payload:t.payload},...i});t.payload=null;const l=o.data;return console.log("RESPONSE FROM SERVER: ",l),o.status>=200&&o.status<300?await Xe(t.id,{status:"completed",response_body:l,payload:null,error_message:null}):await Xe(t.id,{status:"failed",response_body:l,error_message:null}),o.status>=200&&o.status<300?(console.log(` Sync completed for ID: ${t.id}`),!0):!1}catch(r){return console.error(" Sync error:",r),await Xe(t.id,{status:"failed",error_message:((s=(a=r==null?void 0:r.response)==null?void 0:a.data)==null?void 0:s.error)||r.message||"Unknown error"}),!1}}async function Go(e){const t=await Re();try{const a=t.transaction("winnerParticipant","readwrite").objectStore("winnerParticipant"),{won_at:s,id_entry:r,...i}=e,o={...i,draw_date:s,id_entry:String(r)};return await a.add(o),console.log(` Synced winner participant from cloud: ${e.full_name}`),!0}catch(a){return console.error(" Error syncing winner participant from cloud:",a),!1}}const Ko=({itemId:e,onRemove:t,activeNth:a,handleSkipSync:s,handleNextSync:r,initialData:i})=>{const[o,l]=R("refreshTable",{defaultValue:0}),[p,c]=d.useState(!1),[h,g]=d.useState(!1),[w,y]=d.useState("Loading Data"),[N,F]=d.useState(!1),[x,C]=d.useState(null),_=d.useRef(null),I=d.useRef(null),A=async()=>{const P=await xn(e);P&&C(P)},v=async P=>{switch(P.type){case"sync-down-winner":await Ho(P.id,Go)&&l(m=>m+1);break}},T=async()=>{g(!0);try{x.destination==="cloud-server"?await Yo(e):(console.log("downsyncing..."),await v(x))}catch{s(e)}finally{g(!1)}};return d.useEffect(()=>{h||((x==null?void 0:x.status)==="completed"?(console.log("Removing sync item #",e),F(!0),y("Removing Item..."),r(e),I.current=setTimeout(()=>{t(e)},1e3)):p&&T())},[x]),d.useEffect(()=>(p?(_.current=setInterval(()=>{A()},1e3),y("Syncing...")):(_.current&&(clearInterval(_.current),_.current=null),y("Paused")),()=>{_.current&&(clearInterval(_.current),_.current=null)}),[p]),d.useEffect(()=>{c(a.includes(e))},[a]),d.useEffect(()=>(A(),()=>{_.current&&clearInterval(_.current),I.current&&clearTimeout(I.current)}),[]),n.jsxs("tr",{className:`transition-all overflow-hidden ${N?"h=[0px] bg-red-400 opacity-0 duration-700":"h-[30px] opacity-100"} ${h&&"!bg-green-800 text-white animate-pulse"}`,children:[n.jsx("td",{className:"px-4 py-2 text-center",children:(x==null?void 0:x.id)||i.id}),n.jsx("td",{className:"px-4 py-2 text-center flex justify-center items-center",children:(x==null?void 0:x.source)==="cloud-server"?n.jsxs(n.Fragment,{children:[n.jsx(ge,{icon:is,className:"pr-2"})," ","Downsync"]}):n.jsxs(n.Fragment,{children:[n.jsx(ge,{icon:Ui,className:"pr-2"})," Upsync"]})}),n.jsx("td",{className:"px-4 py-2 text-center uppercase",children:(x==null?void 0:x.method_type)||i.method_type}),n.jsx("td",{className:"px-4 py-2 text-center",children:(x==null?void 0:x.api_url)||i.api_url}),n.jsx("td",{className:"px-4 py-2 text-center",children:(x==null?void 0:x.status)||i.status}),n.jsx("td",{className:"px-4 py-2 text-center",children:w})]})};async function Xo(e,t){try{const i=(await Re()).transaction("syncCloud","readonly").objectStore("syncCloud").index("status_createdAt"),o=["pending","in-progress","failed","retrying","cancelled"],l=[];for(const p of o){const c=IDBKeyRange.bound([p,""],[p,""]);let h=await i.openCursor(c,"next");for(;h;){const g=h.value;if(g!=null&&g.id&&(!t||!t.includes(g.id))&&l.push({id:g.id}),e&&l.length>=e)return l;h=await h.continue()}if(e&&l.length>=e)return l}return l.length>0?l:null}catch(a){return console.error("Failed to fetch pending sync queue items:",a),null}}const Qo=()=>{const[e,t]=d.useState([]),[a,s]=d.useState([]),[r,i]=d.useState([]),[o,l]=d.useState(!1),[p,c]=d.useState(!0),[h,g]=R("isServerActive",{defaultValue:!1}),[w,y]=R("activeSyncsTotal",{defaultValue:0}),N=d.useRef(null),F=()=>{if(r.length>0&&h){const T=r.slice(0,10);s(T)}else s([])},x=v=>{t(T=>T.length>=10||T.some(P=>P.id===v)?T:[...T,{id:v}]),i(T=>T.length>=10||T.includes(v)?T:[...T,v])},C=v=>{_(v)},_=v=>{const T=setTimeout(()=>{r.length>0?i(P=>P.filter(u=>u.id!==v)):A(),clearTimeout(T)},1e3)},I=v=>{t(T=>T.filter(P=>P.id!==v)),i(T=>T.filter(P=>P!==v)),setTimeout(()=>{r.length<10&&A()},300)},A=async()=>{if(console.log("Checking for new queue items..."),r.length>=10){console.log("Max 10 sync items already active.");return}if(!o){l(!0);const T=10-r.length;if(T===0){l(!1);return}console.log("Attempting to get new data with total of ",T);const P=await Xo(T,r);P&&P.map(m=>m.id).sort((m,S)=>m-S).slice(0,T).filter(m=>!r.includes(m)).forEach(m=>{x(m)}),l(!1)}};return d.useEffect(()=>{y(r.length),r.length===0?(c(!1),s([])):(p||c(!0),s(r.slice(0,5))),r.length>0&&(a.length===0||a===void 0||a===null)&&F()},[r]),d.useEffect(()=>{!p&&r.length<5?N.current=setInterval(()=>{A()},2e3):N.current&&(clearInterval(N.current),N.current=null)},[p]),d.useEffect(()=>{h?F():s([])},[h]),d.useEffect(()=>{console.log("Cloud syncing activated"),F()},[]),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsx("span",{children:"Syncing Queue Item:"}),a.map((v,T)=>n.jsxs("span",{className:"bg-green-800 text-white p-1 px-2 rounded-2xl",children:["#",v]},T))]}),n.jsxs("div",{className:"flex gap-3 items-center",children:[n.jsx("span",{children:"Total Items in Queue:"}),n.jsx("span",{className:"bg-green-800 text-white p-1 px-2 rounded-2xl min-w-[50px] text-center",children:r.length}),a.length<1&&r.length>0&&h&&n.jsx("button",{onClick:F,className:"cursor-pointer bg-amber-500 hover:bg-amber-600 p-1 px-2 rounded-2xl",children:"Trigger Sync"})]})]}),n.jsxs("table",{className:"mt-4 w-full table-auto",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"bg-gray-300 px-4 py-2 font-bold w-[80px]",children:"ID #"}),n.jsx("th",{className:"bg-gray-300 px-4 py-2 font-bold w-[80px]",children:"Type"}),n.jsx("th",{className:"bg-gray-300 px-4 py-2",children:"Method"}),n.jsx("th",{className:"bg-gray-300 px-4 py-2",children:"Data API URL"}),n.jsx("th",{className:"bg-gray-300 px-4 py-2 w-[150px]",children:"Sync Status"}),n.jsx("th",{className:"bg-gray-300 px-4 py-2 w-[150px]",children:"Status"})]})}),n.jsxs("tbody",{className:"bg-red-300 grow",children:[e.map(v=>n.jsx(Ko,{itemId:v.id,onRemove:I,activeNth:a,handleSkipSync:C,handleNextSync:_,initialData:v},v.id)),e.length<=0&&n.jsx("tr",{className:"w-full grow !h-full",children:n.jsxs("td",{colSpan:6,children:["No queue items found to sync. Please refresh page to check for new items."," "]})})]})]})]})};async function Jo(e){const t={api_url:`/winner-participants/raffle-code/${e}`,source:"cloud-server",destination:"client-app",type:"sync-down-winner",payload:null,method_type:"GET",status:"pending",retry_count:0,error_message:null,priority:"medium",reference_id:null,content_type:"application/json",triggered_by:"system",is_test:!1,next_retry_at:null,headers:{},response_body:null,duration:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};try{return await ct("syncCloud",t),console.log(" Winner participant down-sync queued:",t),!0}catch(a){return console.error(" Failed to queue down-sync for winner participant:",a),!1}}const Zo=async()=>{try{return(await lt.get("/winner-participants/all/raffle-codes")).data}catch(e){throw console.error("Error fetching winner participant raffle codes:",e),e}};async function el(){try{return(await(await Re()).transaction("winnerParticipant","readonly").objectStore("winnerParticipant").getAll()).map(s=>s==null?void 0:s.raffle_code).filter(s=>typeof s=="string")}catch(e){return console.error(" Failed to fetch raffle codes from winner participants:",e),[]}}async function tl(){try{const s=(await Re()).transaction("syncCloud","readonly").objectStore("syncCloud").index("type_createdAt"),r=IDBKeyRange.bound(["sync-down-winner",""],["sync-down-winner",""]),i=[];let o=await s.openCursor(r,"next");for(;o;){const p=o.value.api_url.match(/\/winner-participants\/raffle-code\/([^/]+)$/);p&&i.push(p[1]),o=await o.continue()}return i}catch(e){return console.error(" Failed to get queued down-sync raffle codes:",e),[]}}const nl=()=>{const[e,t]=R("isServerActive",{defaultValue:!0}),[a,s]=R("hasSyncQueueList",{defaultValue:!0}),[r,i]=R("localParticipantsRaffleCodes",{defaultValue:[]}),[o,l]=R("withParticipantsData"),[p,c]=R("cloudSyncModalOpen",{defaultValue:!1}),[h,g]=d.useState(!1),w=d.useRef(e),y=d.useRef(0),N=d.useRef(!1);d.useEffect(()=>{w.current=e,e&&o&&F()},[e,o]);const F=async()=>{const _=await Zo();let I;const A=await el(),v=await tl();I=[...A,...v],i(I);const u=_.filter(f=>!I.includes(f)).forEach(f=>{Jo(f)});console.log("Queued for down-sync:",u)},x=async()=>{try{if((await lt.get("/ping")).status===200)return console.log(" Server is back online."),t(!0),y.current=0,!0;console.log(" Server response not 200.")}catch(_){console.error(" Error checking server:",_)}return t(!1),y.current+=1,console.log(` Attempt #${y.current} to reconnect...`),!1},C=async()=>{for(;!N.current;)await x(),await new Promise(_=>setTimeout(_,2e3))};return d.useEffect(()=>(N.current=!1,(async()=>{await Promise.all([C()])})(),()=>{N.current=!0}),[]),n.jsx("div",{className:`bg-[#33333393] z-[100] absolute top-0 left-0 w-screen h-screen justify-center items-center ${p?"flex":"hidden"}`,children:n.jsxs("div",{className:"modal bg-white h-[80%] aspect-[3/2] rounded-2xl drop-shadow-2xl drop-shadow-black flex flex-col gap-4 py-4",children:[n.jsxs("div",{className:"header px-4 flex justify-between",children:[n.jsx("h1",{className:"text-base font-bold",children:"Cloud Syncronizations (Backgroud Process)"}),n.jsx("button",{"aria-label":"close-modal",className:"bg-gray-700 text-white h-[30px] aspect-square rounded-full hover:bg-gray-500 cursor-pointer",onClick:()=>{c(!1)},children:n.jsx(ge,{icon:Gi})})]}),n.jsx("div",{className:"body  grow px-4 text-sm h-0 overflow-y-scroll",children:n.jsx(Qo,{})}),n.jsx("div",{className:"footer px-4 text-sm",children:e?n.jsx(n.Fragment,{children:n.jsx("span",{className:"text-emerald-600 animate-pulse",children:"Syncing everything to cloud..."})}):n.jsx(n.Fragment,{children:n.jsx("span",{className:"text-red-600",children:"Server is offline. Syncing is paused."})})})]})})};function ul({}){return[{title:"KBNRDS | Dashboard"},{name:"description",content:"Welcome to Kopiko Blanca Raffle Draw System"}]}const ma=Bo(),fl=hs(function(){const[t,a]=d.useState(!0),[s,r]=R("fileDetails",{defaultValue:{entries:0}}),[i,o]=d.useState(!1),[l,p]=d.useState([]),[c,h]=d.useState(!1),g=jt(),[w,y]=R("selectedWeek",{defaultValue:ma}),[N,F]=R("withParticipantsData",{defaultValue:!1}),[x,C]=R("presentingStatus",{defaultValue:"not-presenting"}),_=()=>{a(v=>!v)},I=v=>new URLSearchParams(g.search).get("filter")===v,A=async()=>{console.log("Checking for Participants data FE"),await vs()?(console.log("Participants Data Found!"),F(!0)):(console.log("NO Participants Data Found!"),F(!1))};return d.useEffect(()=>{o(x==="presenting")},[x]),d.useEffect(()=>{y(ma),A()},[]),n.jsxs(n.Fragment,{children:[n.jsx(nl,{}),n.jsx(eo,{isPresenting:i}),n.jsxs("div",{className:"dashboard flex w-full h-[calc(100vh-50px)]",children:[n.jsxs("main",{className:" main-panel  grow p-4 gap-4 flex flex-col",children:[n.jsxs("div",{className:"tabs flex justify-between items-center",children:[n.jsxs("ul",{className:"flex table-tabs",children:[n.jsx("li",{children:n.jsx(Et,{to:"/main",className:()=>!I("winners")&&!I("backupwinners")?"active bg-orange-300":void 0,children:"All Participants"})}),n.jsx("li",{children:n.jsx(Et,{to:"/main?filter=winners",className:()=>I("winners")?"active bg-orange-300":void 0,children:"Winners"})}),n.jsx("li",{children:n.jsx(Et,{to:"/main?filter=backupwinners",className:()=>I("backupwinners")?"active bg-orange-300":void 0,children:"Backup Winners"})})]}),n.jsx(qo,{}),n.jsx("ul",{className:"flex space-x-4 text-sm",children:N&&n.jsxs("li",{className:"flex items-center justify-center h-full",children:["Total Participants for this week:",n.jsx("b",{children:s==null?void 0:s.entries.toLocaleString()})]})})]}),n.jsx(Vo,{}),n.jsxs("div",{className:"status-bar flex justify-between items-center text-sm",children:[n.jsxs("div",{className:"week-selector flex gap-1 bg-orange-200 h-[40px]  items-center justify-center rounded-full overflow-hidden",children:[n.jsx("div",{className:"prev-week hover:bg-orange-300 h-full  px-4 content-center cursor-pointer",children:n.jsx(ge,{icon:ls})}),n.jsxs("div",{className:"week-list hover:bg-orange-300 p-1 px-3 cursor-pointer rounded-full",children:["Week of ",w.weekName]}),n.jsx("div",{className:"next-week hover:bg-orange-300 h-full  px-4 content-center cursor-pointer",children:n.jsx(ge,{icon:cs})})]}),n.jsx(Mo,{}),n.jsx("button",{className:`control-panel-button flex gap-4 rounded-s-full cursor-pointer ${t?"-mr-4":"rounded-e-full"}`,onClick:_,type:"button",children:t?"Close Control Panel":"Open Control Panel"})]})]}),n.jsx(Oo,{controlPanelOpen:t,setIsPresenting:o,isPresenting:i})]})]})});export{ge as F,fl as a,cl as f,ul as m};
