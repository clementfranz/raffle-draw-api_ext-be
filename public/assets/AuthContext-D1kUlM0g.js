import{r as t,j as S}from"./chunk-LSOULM7L-C51OxvVm.js";const u=t.createContext(void 0),d=({children:s})=>{const[a,r]=t.useState(null),[l,n]=t.useState(null),[c,i]=t.useState(!0);t.useEffect(()=>{const e=localStorage.getItem("user"),o=localStorage.getItem("auth_token");e&&o&&(r(JSON.parse(e)),n(o)),i(!1)},[]);const g=(e,o)=>{r(e),n(o),localStorage.setItem("auth_token",o),localStorage.setItem("user",JSON.stringify(e))},m=()=>{r(null),n(null),localStorage.removeItem("auth_token"),localStorage.removeItem("user")};return S.jsx(u.Provider,{value:{user:a,token:l,login:g,logout:m,loading:c},children:s})},x=()=>{const s=t.useContext(u);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s};export{d as A,x as u};
